import{A as un,C as Ee,D as fn,E as hn,G as we,I as gn,J as _n,L as ce,M as Cn,N as In,O as xn,P as kn,Q as le,R as En,U as wn,W as Tn,X as C,Z as me,a as ke,c as N,d as Tt,e as rt,n as At,o as E,p as an,q as cn,s as A,t as Mt,u as ln,v as H,w as dt,x as j,y as mn}from"./chunk-HKA473OH.js";import{a as pe,d as ue,e as vt}from"./chunk-JY5QF2BW.js";import{$ as S,$a as Lt,B as et,Bc as Sn,Cc as Te,Db as Je,Dc as ae,E as Ne,Ea as Zt,Eb as tn,Ec as Ae,Fa as b,Fb as xe,Fc as Me,Ga as F,Hb as Ht,Hc as Wt,Ia as Jt,J as Yt,Ja as He,Jb as oe,K as je,Kb as se,La as wt,Lb as en,Ma as te,Mb as nn,Na as We,Oa as ee,Pa as mt,Pc as de,Qa as D,Qb as rn,R as ze,Ra as Ie,Sa as ne,Sc as pt,Ta as ie,Tb as on,Tc as An,V as Bt,Va as J,W as Le,Wa as Xe,X as W,Xa as x,Xb as sn,Ya as k,Za as Y,_a as zt,a as f,aa as Pt,b as I,ba as nt,bb as it,ca as G,d as Oe,da as h,db as Ke,ea as V,ec as dn,f as gt,fa as Nt,fb as U,ga as Qt,gb as Ge,hb as $,hc as pn,ia as $e,ib as re,ja as X,jb as _t,ka as K,lb as P,m as It,mb as bt,n as Be,nb as $t,oa as Ve,p as L,qb as q,sb as Ye,t as Pe,ta as jt,tb as Qe,uc as bn,v as lt,va as qe,vb as Ze,vc as vn,wa as kt,wb as Vt,xa as Ue,xb as qt,yc as yn,z as xt,za as Et,zb as Ut}from"./chunk-ESE33L4O.js";var ot=function(n){return n[n.Idle=1]="Idle",n[n.Playing=2]="Playing",n[n.Paused=3]="Paused",n[n.Canceled=4]="Canceled",n}(ot||{});function dr(n,i){return`${n.split(" ").map(t=>An(t)).join("")}_${i}`}var v=Tt({source:"Recording",events:{Start:rt(),Pause:rt(),Resume:rt(),Stop:rt(),Reset:rt(),Cancel:rt(),SetTitle:N(),ResetState:rt(),SubmitRecording:N(),SubmitRecordingSuccess:rt(),SubmitRecordingError:rt()}});var Re={patientId:10,state:ot.Idle,title:"",dateStart:new Date().toISOString(),modelStatus:C.Init};var Mn=Mt(Re,A(v.start,n=>I(f({},n),{state:ot.Playing,dateStart:new Date().toISOString()})),A(v.stop,n=>I(f({},n),{state:ot.Idle})),A(v.pause,n=>I(f({},n),{state:ot.Paused})),A(v.resume,n=>I(f({},n),{state:ot.Playing})),A(v.reset,n=>I(f({},n),{state:ot.Idle})),A(v.cancel,n=>I(f({},n),{state:ot.Canceled})),A(v.setTitle,(n,{title:i})=>I(f({},n),{title:i})),A(v.resetState,n=>f(f({},n),Re)),A(v.submitRecording,n=>I(f({},n),{modelStatus:C.Pending})),A(v.submitRecordingSuccess,n=>I(f({},n),{modelStatus:C.Success})),A(v.submitRecordingError,n=>I(f({},n),{modelStatus:C.Error})));var tt=Tt({source:"PatientDetails",events:{RequestDetails:N(),RequestDetailsSuccess:N(),RequestDetailsError:N()}});var Rn={id:null,details:null,modelStatus:C.Init,error:null};var Fn=Mt(Rn,A(tt.requestDetails,(n,{id:i})=>I(f({},n),{modelStatus:me(n.modelStatus),id:i})),A(tt.requestDetailsSuccess,(n,{details:i})=>I(f({},n),{modelStatus:C.Success,details:i})),A(tt.requestDetailsError,n=>I(f({},n),{modelStatus:C.Error})));var w=Tt({source:"Transcriptions",events:{RequestTranscriptions:N(),RequestTranscriptionsSuccess:N(),RequestTranscriptionsError:N(),DeleteTranscription:N(),DeleteTranscriptionSuccess:N(),DeleteTranscriptionError:N(),UpdateTranscription:N(),UpdateTranscriptionSuccess:N(),UpdateTranscriptionError:N()}});function yi(){return{ids:[],entities:{}}}function Si(){function n(i={}){return Object.assign(yi(),i)}return{getInitialState:n}}function Ci(){function n(i){let d=o=>o.ids,t=o=>o.entities,e=E(d,t,(o,s)=>o.map(m=>s[m])),r=E(d,o=>o.length);return i?{selectIds:E(i,d),selectEntities:E(i,t),selectAll:E(i,e),selectTotal:E(i,r)}:{selectIds:d,selectEntities:t,selectAll:e,selectTotal:r}}return{getSelectors:n}}var u=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}(u||{});function M(n){return function(d,t){let e={ids:[...t.ids],entities:f({},t.entities)},r=n(d,e);return r===u.Both?Object.assign({},t,e):r===u.EntitiesOnly?I(f({},t),{entities:e.entities}):t}}function at(n,i){let d=i(n);return Je()&&d===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",i.toString()),d}function Dn(n){function i(_,c){let l=at(_,n);return l in c.entities?u.None:(c.ids.push(l),c.entities[l]=_,u.Both)}function d(_,c){let l=!1;for(let a of _)l=i(a,c)!==u.None||l;return l?u.Both:u.None}function t(_,c){return c.ids=[],c.entities={},d(_,c),u.Both}function e(_,c){let l=at(_,n);return l in c.entities?(c.entities[l]=_,u.EntitiesOnly):(c.ids.push(l),c.entities[l]=_,u.Both)}function r(_,c){let l=_.map(a=>e(a,c));switch(!0){case l.some(a=>a===u.Both):return u.Both;case l.some(a=>a===u.EntitiesOnly):return u.EntitiesOnly;default:return u.None}}function o(_,c){return s([_],c)}function s(_,c){let a=(_ instanceof Array?_:c.ids.filter(p=>_(c.entities[p]))).filter(p=>p in c.entities).map(p=>delete c.entities[p]).length>0;return a&&(c.ids=c.ids.filter(p=>p in c.entities)),a?u.Both:u.None}function m(_){return Object.assign({},_,{ids:[],entities:{}})}function T(_,c,l){let a=l.entities[c.id],p=Object.assign({},a,c.changes),g=at(p,n),y=g!==c.id;return y&&(_[c.id]=g,delete l.entities[c.id]),l.entities[g]=p,y}function R(_,c){return z([_],c)}function z(_,c){let l={};return _=_.filter(p=>p.id in c.entities),_.length>0?_.filter(g=>T(l,g,c)).length>0?(c.ids=c.ids.map(g=>l[g]||g),u.Both):u.EntitiesOnly:u.None}function Q(_,c){let a=c.ids.reduce((p,g)=>{let y=_(c.entities[g]);return y!==c.entities[g]&&p.push({id:g,changes:y}),p},[]).filter(({id:p})=>p in c.entities);return z(a,c)}function ut({map:_,id:c},l){let a=l.entities[c];if(!a)return u.None;let p=_(a);return R({id:c,changes:p},l)}function ft(_,c){return Ct([_],c)}function Ct(_,c){let l=[],a=[];for(let y of _){let O=at(y,n);O in c.entities?a.push({id:O,changes:y}):l.push(y)}let p=z(a,c),g=d(l,c);switch(!0){case(g===u.None&&p===u.None):return u.None;case(g===u.Both||p===u.Both):return u.Both;default:return u.EntitiesOnly}}return{removeAll:m,addOne:M(i),addMany:M(d),setAll:M(t),setOne:M(e),setMany:M(r),updateOne:M(R),updateMany:M(z),upsertOne:M(ft),upsertMany:M(Ct),removeOne:M(o),removeMany:M(s),map:M(Q),mapOne:M(ut)}}function Ii(n,i){let{removeOne:d,removeMany:t,removeAll:e}=Dn(n);function r(l,a){return o([l],a)}function o(l,a){let p=l.filter(g=>!(at(g,n)in a.entities));return p.length===0?u.None:(c(p,a),u.Both)}function s(l,a){return a.entities={},a.ids=[],o(l,a),u.Both}function m(l,a){let p=at(l,n);return p in a.entities?(a.ids=a.ids.filter(g=>g!==p),c([l],a),u.Both):r(l,a)}function T(l,a){let p=l.map(g=>m(g,a));switch(!0){case p.some(g=>g===u.Both):return u.Both;case p.some(g=>g===u.EntitiesOnly):return u.EntitiesOnly;default:return u.None}}function R(l,a){return Q([l],a)}function z(l,a,p){if(!(a.id in p.entities))return!1;let g=p.entities[a.id],y=Object.assign({},g,a.changes),O=at(y,n);return delete p.entities[a.id],l.push(y),O!==a.id}function Q(l,a){let p=[],g=l.filter(y=>z(p,y,a)).length>0;if(p.length===0)return u.None;{let y=a.ids,O=[];return a.ids=a.ids.filter((Z,ht)=>Z in a.entities?!0:(O.push(ht),!1)),c(p,a),!g&&O.every(Z=>a.ids[Z]===y[Z])?u.EntitiesOnly:u.Both}}function ut(l,a){let p=a.ids.reduce((g,y)=>{let O=l(a.entities[y]);return O!==a.entities[y]&&g.push({id:y,changes:O}),g},[]);return Q(p,a)}function ft({map:l,id:a},p){let g=p.entities[a];if(!g)return u.None;let y=l(g);return R({id:a,changes:y},p)}function Ct(l,a){return _([l],a)}function _(l,a){let p=[],g=[];for(let Z of l){let ht=at(Z,n);ht in a.entities?g.push({id:ht,changes:Z}):p.push(Z)}let y=Q(g,a),O=o(p,a);switch(!0){case(O===u.None&&y===u.None):return u.None;case(O===u.Both||y===u.Both):return u.Both;default:return u.EntitiesOnly}}function c(l,a){l.sort(i);let p=[],g=0,y=0;for(;g<l.length&&y<a.ids.length;){let O=l[g],Z=at(O,n),ht=a.ids[y],vi=a.entities[ht];i(O,vi)<=0?(p.push(Z),g++):(p.push(ht),y++)}g<l.length?a.ids=p.concat(l.slice(g).map(n)):a.ids=p.concat(a.ids.slice(y)),l.forEach((O,Z)=>{a.entities[n(O)]=O})}return{removeOne:d,removeMany:t,removeAll:e,addOne:M(r),updateOne:M(R),upsertOne:M(Ct),setAll:M(s),setOne:M(m),setMany:M(T),addMany:M(o),updateMany:M(Q),upsertMany:M(_),map:M(ut),mapOne:M(ft)}}function On(n={}){let{selectId:i,sortComparer:d}={selectId:n.selectId??(o=>o.id),sortComparer:n.sortComparer??!1},t=Si(),e=Ci(),r=d?Ii(i,d):Dn(i);return f(f(f({selectId:i,sortComparer:d},t),e),r)}var yt=On(),Bn=yt.getInitialState({id:null,modelStatus:C.Init,error:null});var Pn=Mt(Bn,A(w.requestTranscriptions,n=>I(f({},n),{modelStatus:me(n.modelStatus)})),A(w.requestTranscriptionsSuccess,(n,{transcriptions:i})=>yt.setAll(i,I(f({},n),{modelStatus:C.Success}))),A(w.requestTranscriptionsError,(n,{error:i})=>I(f({},n),{modelStatus:C.Error,error:i})),A(w.deleteTranscription,(n,{id:i})=>yt.removeOne(i,I(f({},n),{modelStatus:C.Pending}))),A(w.deleteTranscriptionSuccess,n=>I(f({},n),{modelStatus:C.Success})),A(w.deleteTranscriptionError,(n,{error:i})=>I(f({},n),{modelStatus:C.Error,error:i})),A(w.updateTranscription,n=>I(f({},n),{modelStatus:C.Pending})),A(w.updateTranscriptionSuccess,(n,{transcription:i})=>yt.updateOne({id:i.id,changes:i},I(f({},n),{modelStatus:C.Success}))),A(w.updateTranscriptionError,(n,{error:i})=>I(f({},n),{modelStatus:C.Error,error:i})));var fe="patient-transcription",st=function(n){return n.Recording="recording",n.PatientDetails="patientDetails",n.Transcriptions="transcriptions",n}(st||{}),Nn={[st.Recording]:Mn,[st.PatientDetails]:Fn,[st.Transcriptions]:Pn};var Rt=an(fe);var Xt=E(Rt,n=>n[st.Recording]),jn=E(Xt,n=>n.state),zn=E(Xt,n=>n.title),Ln=E(Xt,n=>n.dateStart),$n=E(Xt,n=>n.patientId),Fe=E(Xt,n=>n.modelStatus),Vn=E(Fe,n=>n===C.Pending);var qn=(()=>{let i=class i{constructor(){this.store=h(At),this.state$=this.store.select(jn),this.title$=this.store.select(zn),this.dateStart$=this.store.select(Ln),this.patientId$=this.store.select($n),this.modelStatus$=this.store.select(Fe),this.pending$=this.store.select(Vn)}start(){this.store.dispatch(v.start())}stop(){this.store.dispatch(v.stop())}pause(){this.store.dispatch(v.pause())}resume(){this.store.dispatch(v.resume())}cancel(){this.store.dispatch(v.cancel())}reset(){this.store.dispatch(v.reset())}setTitle(t){this.store.dispatch(v.setTitle({title:t}))}submitRecording(t){this.store.dispatch(v.submitRecording({audio:t}))}resetState(){this.store.dispatch(v.resetState())}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var xi=["*"],he;function ki(){if(he===void 0&&(he=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(he=n.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return he}function Kt(n){return ki()?.createHTML(n)||n}function Un(n){return Error(`Unable to find icon with the name "${n}"`)}function Ei(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Hn(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Wn(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var ct=class{constructor(i,d,t){this.url=i,this.svgText=d,this.options=t}},wi=(()=>{let i=class i{constructor(t,e,r,o){this._httpClient=t,this._sanitizer=e,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,e,r){return this.addSvgIconInNamespace("",t,e,r)}addSvgIconLiteral(t,e,r){return this.addSvgIconLiteralInNamespace("",t,e,r)}addSvgIconInNamespace(t,e,r,o){return this._addSvgIconConfig(t,e,new ct(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,r,o){let s=this._sanitizer.sanitize(kt.HTML,r);if(!s)throw Wn(r);let m=Kt(s);return this._addSvgIconConfig(t,e,new ct("",m,o))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,r){return this._addSvgIconSetConfig(t,new ct(e,null,r))}addSvgIconSetLiteralInNamespace(t,e,r){let o=this._sanitizer.sanitize(kt.HTML,e);if(!o)throw Wn(e);let s=Kt(o);return this._addSvgIconSetConfig(t,new ct("",s,r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let e=this._sanitizer.sanitize(kt.RESOURCE_URL,t);if(!e)throw Hn(t);let r=this._cachedIconsByUrl.get(e);return r?It(ge(r)):this._loadSvgIconFromConfig(new ct(t,null)).pipe(W(o=>this._cachedIconsByUrl.set(e,o)),L(o=>ge(o)))}getNamedSvgIcon(t,e=""){let r=Xn(e,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(e,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(e);return s?this._getSvgFromIconSetConfigs(t,s):Be(Un(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?It(ge(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(L(e=>ge(e)))}_getSvgFromIconSetConfigs(t,e){let r=this._extractIconWithNameFromAnySet(t,e);if(r)return It(r);let o=e.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(et(m=>{let R=`Loading icon set URL: ${this._sanitizer.sanitize(kt.RESOURCE_URL,s.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(R)),It(null)})));return Pe(o).pipe(L(()=>{let s=this._extractIconWithNameFromAnySet(t,e);if(!s)throw Un(t);return s}))}_extractIconWithNameFromAnySet(t,e){for(let r=e.length-1;r>=0;r--){let o=e[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(s,t,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(W(e=>t.svgText=e),L(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?It(null):this._fetchIcon(t).pipe(W(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,r){let o=t.querySelector(`[id="${e}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let m=this._svgElementFromString(Kt("<svg></svg>"));return m.appendChild(s),this._setSvgAttributes(m,r)}_svgElementFromString(t){let e=this._document.createElement("DIV");e.innerHTML=t;let r=e.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let e=this._svgElementFromString(Kt("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:m}=r[o];s!=="id"&&e.setAttribute(s,m)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[o].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){let{url:e,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw Ei();if(e==null)throw Error(`Cannot fetch icon from URL "${e}".`);let s=this._sanitizer.sanitize(kt.RESOURCE_URL,e);if(!s)throw Hn(e);let m=this._inProgressUrlFetches.get(s);if(m)return m;let T=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(L(R=>Kt(R)),je(()=>this._inProgressUrlFetches.delete(s)),ze());return this._inProgressUrlFetches.set(s,T),T}_addSvgIconConfig(t,e,r){return this._svgIconConfigs.set(Xn(t,e),r),this}_addSvgIconSetConfig(t,e){let r=this._iconSetConfigs.get(t);return r?r.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){let e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](e,t);if(o)return Ti(o)?new ct(o.url,null,o.options):new ct(o,null)}}};i.\u0275fac=function(e){return new(e||i)(G(on,8),G(sn),G(Ht,8),G(Zt))},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ge(n){return n.cloneNode(!0)}function Xn(n,i){return n+":"+i}function Ti(n){return!!(n.url&&n.options)}var Ai=new nt("MAT_ICON_DEFAULT_OPTIONS"),Mi=new nt("mat-icon-location",{providedIn:"root",factory:Ri});function Ri(){let n=h(Ht),i=n?n.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var Kn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Fi=Kn.map(n=>`[${n}]`).join(", "),Di=/^url\(['"]?#(.*?)['"]?\)$/,_e=(()=>{let i=class i{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}constructor(t,e,r,o,s,m){this._elementRef=t,this._iconRegistry=e,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Oe.EMPTY,m&&(m.color&&(this.color=this._defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){let r=t.childNodes[e];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),e.forEach(r=>t.classList.add(r)),this._previousFontSetClass=e,this.fontIcon!==this._previousFontIconClass&&!e.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let e=this._elementsWithExternalReferences;e&&e.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let e=t.querySelectorAll(Fi),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<e.length;o++)Kn.forEach(s=>{let m=e[o],T=m.getAttribute(s),R=T?T.match(Di):null;if(R){let z=r.get(m);z||(z=[],r.set(m,z)),z.push({name:s,value:R[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[e,r]=this._splitIconName(t);e&&(this._svgNamespace=e),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,e).pipe(Ne(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${e}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}};i.\u0275fac=function(e){return new(e||i)(F(Et),F(wi),Ve("aria-hidden"),F(Mi),F(Zt),F(Ai,8))},i.\u0275cmp=V({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(e,r){e&2&&(mt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ie(r.color?"mat-"+r.color:""),ne("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:["inline","inline",tn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ee,q],ngContentSelectors:xi,decls:1,vars:0,template:function(e,r){e&1&&(re(),_t(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=i;return n})(),be=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=Pt({imports:[Wt,Wt]});let n=i;return n})();var Ft=function(n){return n[n.Delete=1]="Delete",n[n.Discard=2]="Discard",n[n.Submit=3]="Submit",n}(Ft||{});var Oi=new nt("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Qn=(()=>{let i=class i{constructor(t,e,r,o,s){this._elementRef=t,this._ngZone=e,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new wt,this._mode="determinate",this._transitionendHandler=m=>{this.animationEnd.observers.length===0||!m.target||!m.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=o==="NoopAnimations",s&&(s.color&&(this.color=this._defaultColor=s.color),this.mode=s.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=Yn(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Yn(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};i.\u0275fac=function(e){return new(e||i)(F(Et),F(te),F(Jt),F(qe,8),F(Oi,8))},i.\u0275cmp=V({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,r){e&2&&(mt("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),ie("mat-"+r.color),ne("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:["value","value",xe],bufferValue:["bufferValue","bufferValue",xe],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[ee,q],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,r){e&1&&(x(0,"div",0),Y(1,"div",1)(2,"div",2),k(),x(3,"div",3),Y(4,"span",4),k(),x(5,"div",5),Y(6,"span",4),k()),e&2&&(b(),Ie("flex-basis",r._getBufferBarFlexBasis()),b(2),Ie("transform",r._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let n=i;return n})();function Yn(n,i=0,d=100){return Math.max(i,Math.min(d,n))}var Zn=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=Pt({imports:[Wt]});let n=i;return n})();function Ni(n,i){if(n&1){let d=it();x(0,"button",6),U("click",function(){X(d);let e=$();return K(e.close())}),x(1,"mat-icon"),P(2,"close"),k()()}}function ji(n,i){n&1&&Y(0,"mat-progress-bar",7)}var zi=[[["","srModalTopContent",""]],[["","srModalMainContent",""]],[["","srModalBottomContent",""]],[["mat-dialog-actions"]]],Li=["[srModalTopContent]","[srModalMainContent]","[srModalBottomContent]","mat-dialog-actions"],ti=(()=>{let i=class i{constructor(){this.header=null,this.contentClass=null,this.pending=!1,this.closable=!0,this.modalClose=new wt,this.backdropClick=new wt,this.esc=new wt,this.dialogRef=h(ce),this.destroyRef=h(He)}ngOnInit(){this.dialogRef.backdropClick().pipe(ke(this.destroyRef)).subscribe(()=>{this.backdropClick.emit()}),this.dialogRef.keydownEvents().pipe(xt(t=>t.key==="Escape"),ke(this.destroyRef)).subscribe(()=>{this.esc.emit()})}close(){this.modalClose.emit()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=V({type:i,selectors:[["common-base-modal"]],inputs:{header:"header",contentClass:"contentClass",pending:"pending",closable:"closable"},outputs:{modalClose:"modalClose",backdropClick:"backdropClick",esc:"esc"},standalone:!0,features:[q],ngContentSelectors:Li,decls:12,vars:4,consts:[["mat-dialog-title","",1,"sr-modal-header"],[1,"flex","justify-between","items-center","w-full","gap-2"],["class","close","type","button","mat-icon-button","","aria-label","Close modal",3,"click",4,"ngIf"],[1,"progress-bar-wrapper"],["mode","indeterminate",4,"ngIf"],["cdkScrollable","",1,"flex","flex-col","grow","shrink",3,"ngClass"],["type","button","mat-icon-button","","aria-label","Close modal",1,"close",3,"click"],["mode","indeterminate"]],template:function(e,r){e&1&&(re(zi),x(0,"div",0)(1,"div",1)(2,"h4"),P(3),k(),J(4,Ni,3,0,"button",2),k()(),x(5,"div",3),J(6,ji,1,0,"mat-progress-bar",4),k(),_t(7),x(8,"mat-dialog-content",5),_t(9,1),k(),_t(10,2),_t(11,3)),e&2&&(b(3),bt(r.header),b(),D("ngIf",r.closable),b(2),D("ngIf",r.pending),b(2),D("ngClass",r.contentClass))},dependencies:[be,_e,se,le,In,xn,Zn,Qn,vt,ue,oe,un],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#f1ecf9}.sr-modal-header[_ngcontent-%COMP%]{display:flex;color:#000000de;padding:8px 24px;background-color:#f1ecf9}.sr-modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px}.sr-modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-right:-16px}.progress-bar-wrapper[_ngcontent-%COMP%]{position:relative;top:-1px;height:0}"],changeDetection:0});let n=i;return n})();function $i(n,i){if(n&1){let d=it();zt(0),x(1,"button",4),U("click",function(){X(d);let e=$();return K(e.close())}),P(2,"Cancel"),k(),x(3,"button",5),U("click",function(){X(d);let e=$();return K(e.yes())}),P(4,"Delete"),k(),Lt()}n&2&&(b(),D("color","primary"),b(2),D("color","warn"))}function Vi(n,i){if(n&1){let d=it();zt(0),x(1,"button",4),U("click",function(){X(d);let e=$();return K(e.close())}),P(2),k(),x(3,"button",5),U("click",function(){X(d);let e=$();return K(e.yes())}),P(4),k(),Lt()}if(n&2){let d=$();b(),D("color","primary"),b(),bt(d.noText),b(),D("color","primary"),b(),bt(d.yesText)}}function qi(n,i){if(n&1){let d=it();zt(0),x(1,"button",4),U("click",function(){X(d);let e=$();return K(e.close())}),P(2,"No"),k(),x(3,"button",5),U("click",function(){X(d);let e=$();return K(e.yes())}),P(4,"Yes"),k(),Lt()}n&2&&(b(),D("color","primary"),b(2),D("color","primary"))}var ei=(()=>{let i=class i{constructor(t,e){this.dialogRef=t,this.yesText="Yes",this.noText="No",this.yesNoContext=Ft,this.textOrHtml=e.textOrHtml??"",this.title=e.title||"Warning",this.context=e.context,this.yesText=e.yesText??this.yesText,this.noText=e.noText??this.noText}close(){this.dialogRef.close(!1)}yes(){this.dialogRef.close(!0)}};i.\u0275fac=function(e){return new(e||i)(F(ce),F(Cn))},i.\u0275cmp=V({type:i,selectors:[["common-confirmation-modal"]],standalone:!0,features:[q],decls:8,vars:9,consts:[[3,"header","modalClose"],["srModalMainContent","",3,"innerHtml"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-button","","cdkFocusInitial","",3,"color","click"],["mat-button","",3,"color","click"]],template:function(e,r){e&1&&(x(0,"common-base-modal",0),U("modalClose",function(){return r.close()}),Y(1,"div",1),Ye(2,"sanitize"),x(3,"mat-dialog-actions"),zt(4,2),J(5,$i,5,2,"ng-container",3)(6,Vi,5,4,"ng-container",3)(7,qi,5,2,"ng-container",3),Lt(),k()()),e&2&&(D("header",r.title),b(),D("innerHtml",Qe(2,7,r.textOrHtml),Ue),b(2),mt("align","end"),b(),D("ngSwitch",r.context),b(),D("ngSwitchCase",r.yesNoContext.Delete),b(),D("ngSwitchCase",r.yesNoContext.Discard),b(),D("ngSwitchCase",r.yesNoContext.Submit))},dependencies:[ti,vt,pe,le,kn,nn,wn,en],changeDetection:0});let n=i;return n})();var Ns=(()=>{let i=class i{constructor(){this.modalService=h(En)}confirm(t,e,r=Ft.Delete,o,s){return this.modalService.open(ei,{data:{title:t,textOrHtml:e,context:r,yesText:o,noText:s}}).afterClosed().pipe(L(m=>!!m))}whenConfirmed(t,e,r=Ft.Delete,o,s){return this.confirm(t,e,r,o,s).pipe(xt(Boolean))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ui=["canvas"],Ls=(()=>{let i=class i{constructor(){this.bgColor="#fff",this.curveColor="#000",this.stream=null,this.visualize=!1,this.lineWidth=2,this.gainerStandardValue=1.5}ngAfterViewInit(){this.adjustCanvasSize(),new ResizeObserver(()=>{this.adjustCanvasSize()}).observe(this.canvasEl.nativeElement.parentElement)}adjustCanvasSize(){this.canvasEl.nativeElement.width=Math.max(this.canvasEl.nativeElement.parentElement.getBoundingClientRect().width),this.canvasEl.nativeElement.height=Math.max(this.canvasEl.nativeElement.parentElement.getBoundingClientRect().height)}ngOnChanges(t){if(!this.visualize||!this.stream){this.mute();return}t.stream&&this.stream&&this.initializeAudioContextParts(this.stream),this.unmute(),this.animate()}getCanvasContext(){return this.canvasEl.nativeElement.getContext("2d")}getCanvasSize(){return{width:this.canvasEl.nativeElement.width,height:this.canvasEl.nativeElement.height}}initializeAudioContextParts(t){this.audioContext||(this.audioContext=new AudioContext);let e=this.audioContext.createMediaStreamSource(t);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=64,this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=this.gainerStandardValue,e.connect(this.gainNode).connect(this.analyser)}animate(){let t=this.getCanvasContext(),e=()=>{!this.analyser||!this.dataArray||(requestAnimationFrame(e),this.analyser.getByteFrequencyData(this.dataArray),t&&this.drawFrequencyFromBytes(this.dataArray,t))};e()}drawWaveformFromBytes(t,e){let{width:o,height:s}=this.getCanvasSize();e.fillStyle=this.bgColor,e.fillRect(0,0,o,s),e.lineWidth=2,e.strokeStyle=this.curveColor,e.beginPath();let m=o/t.length,T=0;for(let R=0;R<t.length;R++){let Q=t[R]/128*s/2;R===0?e.moveTo(T,Q):e.lineTo(T,Q),T+=m}e.lineTo(o,s/2),e.stroke()}drawFrequencyFromBytes(t,e){let{width:r,height:o}=this.getCanvasSize();e.clearRect(0,0,r,o),e.beginPath(),e.fillStyle=this.curveColor;let s=4,m=o/2,T=r/2,R=r/2/t.length-s,z=o/100*1,Q=10,ut=s/2;for(let ft=0;ft<t.length;ft++){let Ct=t[ft],_=this.scaleValue(Ct,0,255,0,o/2-Q),c=Math.max(z,_);this.drawAvailableRect(e,T+ut,m-c,R,c*2,6),this.drawAvailableRect(e,T-ut,m-c,-R,c*2,6),ut+=R+s}e.fill()}clearCanvas(){this.getCanvasContext()?.clearRect(0,0,this.canvasEl.nativeElement.width,this.canvasEl.nativeElement.height)}flattenCurve(){this.clearCanvas();let{width:t,height:e}=this.getCanvasSize(),r=0,o=e/2,s=this.getCanvasContext();s&&(s.beginPath(),s.moveTo(r,o),s.lineTo(t,o),s.stroke())}mute(){this.gainNode&&(this.gainNode.gain.value=0)}unmute(){this.gainNode&&(this.gainNode.gain.value=this.gainerStandardValue)}drawAvailableRect(t,e,r,o,s,m){(t.roundRect||t.fillRect).bind(t)(e,r,o,s,m)}scaleValue(t,e,r,o,s){return(t-e)/(r-e)*(s-o)+o}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=V({type:i,selectors:[["common-audio-stream-visualizer"]],viewQuery:function(e,r){if(e&1&&qt(Ui,7),e&2){let o;Vt(o=Ut())&&(r.canvasEl=o.first)}},inputs:{bgColor:"bgColor",curveColor:"curveColor",stream:"stream",visualize:"visualize",lineWidth:"lineWidth"},standalone:!0,features:[$e,q],decls:2,vars:0,consts:[["width","0","height","0"],["canvas",""]],template:function(e,r){e&1&&Y(0,"canvas",0,1)},dependencies:[rn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}canvas[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0});let n=i;return n})();function Hi(n,i){if(n&1){let d=it();x(0,"div",1)(1,"button",2),U("click",function(){X(d);let e=$();return K(e.action())}),P(2),k()()}if(n&2){let d=$();b(2),$t(" ",d.data.action," ")}}var Wi=["label"];function Xi(n,i){}var Ki=Math.pow(2,31)-1,St=class{constructor(i,d){this._overlayRef=d,this._afterDismissed=new gt,this._afterOpened=new gt,this._onAction=new gt,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Ki))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},ve=new nt("MatSnackBarData"),Dt=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Gi=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Qt({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=i;return n})(),Yi=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Qt({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=i;return n})(),Qi=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Qt({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=i;return n})(),Zi=(()=>{let i=class i{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};i.\u0275fac=function(e){return new(e||i)(F(St),F(ve))},i.\u0275cmp=V({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[q],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,r){e&1&&(x(0,"div",0),P(1),k(),J(2,Hi,3,1,"div",1)),e&2&&(b(),$t(" ",r.data.message,`
`),b(),Xe(2,r.hasAction?2:-1))},dependencies:[pe,Gi,Yi,Qi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=i;return n})(),Ji={snackBarState:Sn("state",[Ae("void, hidden",ae({transform:"scale(0.8)",opacity:0})),Ae("visible",ae({transform:"scale(1)",opacity:1})),Me("* => visible",Te("150ms cubic-bezier(0, 0, 0.2, 1)")),Me("* => void, * => hidden",Te("75ms cubic-bezier(0.4, 0.0, 1, 1)",ae({opacity:0})))])},tr=0,er=(()=>{let i=class i extends hn{constructor(t,e,r,o,s){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=h(Ht),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new gt,this._onExit=new gt,this._onEnter=new gt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${tr++}`,this.attachDomPortal=m=>{this._assertNotAttached();let T=this._portalOutlet.attachDomPortal(m);return this._afterPortalAttached(),T},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}onAnimationEnd(t){let{fromState:e,toState:r}=t;if((r==="void"&&e!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(s=>t.classList.add(s)):t.classList.add(e)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<e.length;r++){let o=e[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let r=e.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};i.\u0275fac=function(e){return new(e||i)(F(te),F(Et),F(Jt),F(pn),F(Dt))},i.\u0275cmp=V({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,r){if(e&1&&(qt(we,7),qt(Wi,7)),e&2){let o;Vt(o=Ut())&&(r._portalOutlet=o.first),Vt(o=Ut())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,r){e&1&&Ge("@state.done",function(s){return r.onAnimationEnd(s)}),e&2&&Ke("@state",r._animationState)},standalone:!0,features:[We,q],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){e&1&&(x(0,"div",0)(1,"div",1,2)(3,"div",3),J(4,Xi,0,0,"ng-template",4),k(),Y(5,"div"),k()()),e&2&&(b(5),mt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[we],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Ji.snackBarState]}});let n=i;return n})();function nr(){return new Dt}var ir=new nt("mat-snack-bar-default-options",{providedIn:"root",factory:nr}),ni=(()=>{let i=class i{get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,e,r,o,s,m){this._overlay=t,this._live=e,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Zi,this.snackBarContainerComponent=er,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",r){let o=f(f({},this._defaultConfig),r);return o.data={message:t,action:e},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=jt.create({parent:r||this._injector,providers:[{provide:Dt,useValue:e}]}),s=new Ee(this.snackBarContainerComponent,e.viewContainerRef,o),m=t.attach(s);return m.instance.snackBarConfig=e,m.instance}_attach(t,e){let r=f(f(f({},new Dt),this._defaultConfig),e),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),m=new St(s,o);if(t instanceof Ze){let T=new fn(t,null,{$implicit:r.data,snackBarRef:m});m.instance=s.attachTemplatePortal(T)}else{let T=this._createInjector(r,m),R=new Ee(t,void 0,T),z=s.attachComponentPortal(R);m.instance=z.instance}return this._breakpointObserver.observe(vn.HandsetPortrait).pipe(Le(o.detachments())).subscribe(T=>{o.overlayElement.classList.toggle(this.handsetCssClass,T.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(m,r),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){let e=new gn;e.direction=t.direction;let r=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,m=!s&&t.horizontalPosition!=="center";return s?r.left("0"):m?r.right("0"):r.centerHorizontally(),t.verticalPosition==="top"?r.top("0"):r.bottom("0"),e.positionStrategy=r,this._overlay.create(e)}_createInjector(t,e){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector;return jt.create({parent:r||this._injector,providers:[{provide:St,useValue:e},{provide:ve,useValue:t.data}]})}};i.\u0275fac=function(e){return new(e||i)(G(_n),G(yn),G(jt),G(bn),G(i,12),G(ir))},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function rr(n,i){if(n&1&&(x(0,"mat-icon",4),P(1),k()),n&2){let d=$();b(),$t(" ",d.icon," ")}}function or(n,i){if(n&1){let d=it();x(0,"button",5),U("click",function(){X(d);let e=$();return K(e.dismiss())}),x(1,"mat-icon"),P(2,"close"),k()()}}var ii=(()=>{let i=class i{constructor(){this.snackBarRef=h(St),this.data=h(ve),this.icon=this.data?.icon??null,this.content=this.data?.content??null,this.closeable=this.data?.closeable??!0,this.contentClass=this.data?.contentClass??[]}dismiss(){this.snackBarRef.dismiss()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=V({type:i,selectors:[["common-simple-snack-bar"]],standalone:!0,features:[q],decls:5,vars:4,consts:[[1,"flex","items-center",3,"ngClass"],["class","me-2",4,"ngIf"],[1,"flex","grow","shrink"],["class","ms-2","type","button","mat-icon-button","","aria-label","Dismiss",3,"click",4,"ngIf"],[1,"me-2"],["type","button","mat-icon-button","","aria-label","Dismiss",1,"ms-2",3,"click"]],template:function(e,r){e&1&&(x(0,"div",0),J(1,rr,2,1,"mat-icon",1),x(2,"div",2),P(3),k(),J(4,or,3,0,"button",3),k()),e&2&&(D("ngClass",r.contentClass),b(),D("ngIf",r.icon),b(2),bt(r.content),b(),D("ngIf",r.closeable))},dependencies:[be,_e,vt,ue,se,oe],changeDetection:0});let n=i;return n})();var Gt={Info:"info",Error:"error",Warning:"warning",Success:"success"};var ri=new nt("SIMPLE_SNACK_BAR_CONFIG");var oi={duration:5e3,horizontalPosition:"center"};var Ot=(()=>{let i=class i{constructor(){this.snackBar=h(ni),this.baseConfig=h(ri,{optional:!0})??oi}open(t){return this.snackBar.openFromComponent(ii,this.mergeConfigs(this.baseConfig,t))}info(t){return this.open(this.addPanelClassToConfig([Gt.Info],this.mergeConfigs(this.baseConfig,t)))}error(t){return this.open(this.addPanelClassToConfig([Gt.Error],this.mergeConfigs(this.baseConfig,t)))}warning(t){return this.open(this.addPanelClassToConfig([Gt.Warning],this.mergeConfigs(this.baseConfig,t)))}success(t){return this.open(this.addPanelClassToConfig([Gt.Success],this.mergeConfigs(this.baseConfig,t)))}addPanelClassToConfig(t,e){return e?I(f({},e),{panelClass:Array.from(new Set([...dn(e?.panelClass??[]),...t]))}):{panelClass:t}}mergeConfigs(t,e){return e?f(f({},t),e):t}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var sc=(()=>{let i=class i{constructor(){this.actions$=h(dt),this.reset$=this.actions$.pipe(j(v.reset)),this.submitRecordingSuccess$=this.actions$.pipe(j(v.submitRecordingSuccess))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var si=E(Rt,n=>n[st.PatientDetails]),ai=E(si,n=>n.details),ye=E(si,n=>n.modelStatus),ci=E(ye,n=>n===C.Pending),li=E(ye,n=>n===C.Init);var bc=(()=>{let i=class i{constructor(){this.store=h(At),this.details$=this.store.select(ai),this.modelStatus$=this.store.select(ye),this.pending$=this.store.select(ci),this.isInit$=this.store.select(li)}requestDetails(t){this.store.dispatch(tt.requestDetails({id:t}))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var De=E(Rt,n=>n[st.Transcriptions]),{selectAll:mi,selectEntities:sr}=yt.getSelectors(De),Se=E(De,n=>n.modelStatus),di=E(Se,n=>n===C.Pending),pi=E(Se,n=>n===C.Init),ar=E(De,n=>n.id),kc=E(sr,ar,(n,i)=>i?n[i]??null:null);var Fc=(()=>{let i=class i{constructor(){this.store=h(At),this.transcriptions$=this.store.select(mi),this.modelStatus$=this.store.select(Se),this.pending$=this.store.select(di),this.isInit$=this.store.select(pi)}requestTranscriptions(t){this.store.dispatch(w.requestTranscriptions({id:t}))}deleteTranscription(t){this.store.dispatch(w.deleteTranscription({id:t}))}updateTranscription(t){this.store.dispatch(w.updateTranscription({transcription:t}))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var cr=()=>{let n=new Date;return Array.from({length:20}).map((i,d)=>({createdOn:new Date(n.setDate(d+1)).toISOString(),estimatedMinutes:2,id:d.toString(),noteText:`
            Transcription #${d}
            This is what has been transcribed. This is what has been transcribed. This is what has been transcribed. 
        
            This is what has been 
                    transcribed. This is what has been transcribed.
            
            1)  Test
            2)  Other
            \u2022   Test
        `,status:d%5===0?"PROGRESS":"COMPLETE",title:"Set by a doctor"+d}))},ui=(()=>{let i=class i{constructor(){this.apiService=h(de)}submitRecording(t,e,r){let o=new FormData;return o.append("file",t,"audio.wav"),o.append("title",r||"blah"),this.apiService.post("/transcription/upload",o)}getPatientTranscriptions(){return this.apiService.get("/transcription/list").pipe(et(()=>lt(300).pipe(L(()=>cr()))))}deletePatientTranscription(t){return this.apiService.delete(`/transcription/${t}`).pipe(et(()=>lt(300).pipe(L(()=>{}))))}updateTranscription(t){return this.apiService.patch("/transcription/update",t).pipe(et(()=>lt(300).pipe(L(()=>f({},t)))))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ce=(()=>{let i=class i{constructor(){this.apiService=h(ui)}submitRecording(t,e,r){return this.apiService.submitRecording(t,e,r).pipe(et(()=>lt(1e3).pipe(L(()=>{}))))}getPatientTranscriptions(){return this.apiService.getPatientTranscriptions()}deletePatientTranscription(t){return this.apiService.deletePatientTranscription(t)}updateTranscription(t){return this.apiService.updateTranscription(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var fi=(()=>{let i=class i{constructor(){this.apiService=h(de)}getPatientDetails(t){return this.apiService.get(`/patient/${t}`).pipe(et(()=>lt(200).pipe(L(()=>({bed:"4",dob:"1999/10/03",fullName:"John Doe",gender:Tn.Female,id:"222333",room:"214b"})))))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var hi=(()=>{let i=class i{constructor(){this.apiService=h(fi)}getPatientDetails(t){return this.apiService.getPatientDetails(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var gi=(()=>{let i=class i{constructor(){this.actions$=h(dt),this.recordingFacadeApi=h(Ce),this.recordingFacade=h(qn),this.snackbarApiFacade=h(Ot),this.submitRecording$=H(()=>this.actions$.pipe(j(v.submitRecording),ln(()=>[this.recordingFacade.patientId$,this.recordingFacade.title$]),xt(([,t])=>t!==null),Yt(([{audio:t},e,r])=>this.recordingFacadeApi.submitRecording(t,e,r).pipe(pt(()=>v.submitRecordingSuccess(),()=>v.submitRecordingError()))))),this.submitRecordingSuccess$=H(()=>this.actions$.pipe(j(v.submitRecordingSuccess),W(()=>{this.snackbarApiFacade.info({data:{content:"Transcription processing started"}})})),{dispatch:!1}),this.submitRecordingError$=H(()=>this.actions$.pipe(j(v.submitRecordingError),W(()=>{this.snackbarApiFacade.error({data:{content:"Something went wrong. Please try to transcribe again"}})})),{dispatch:!1})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac});let n=i;return n})();var _i=(()=>{let i=class i{constructor(){this.actions$=h(dt),this.patientApiFacade=h(hi),this.snackbarFacade=h(Ot),this.requestDetails$=H(()=>this.actions$.pipe(j(tt.requestDetails),Bt(({id:t})=>this.patientApiFacade.getPatientDetails(t).pipe(pt(e=>tt.requestDetailsSuccess({details:e}),()=>tt.requestDetailsError({error:"Cannot obtain patient info"})))))),this.requestDetailsError$=H(()=>this.actions$.pipe(j(tt.requestDetailsError),W(({error:t})=>{this.snackbarFacade.error({data:{content:t}})})),{dispatch:!1})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac});let n=i;return n})();var bi=(()=>{let i=class i{constructor(){this.actions$=h(dt),this.recordingApiFacade=h(Ce),this.snackbarFacade=h(Ot),this.requestTranscriptions$=H(()=>this.actions$.pipe(j(w.requestTranscriptions),Bt(()=>this.recordingApiFacade.getPatientTranscriptions().pipe(pt(t=>w.requestTranscriptionsSuccess({transcriptions:t}),()=>w.requestTranscriptionsError({error:"Cannot obtain patient info"})))))),this.requestTranscriptionsError$=H(()=>this.actions$.pipe(j(w.requestTranscriptionsError),W(({error:t})=>{this.snackbarFacade.error({data:{content:t}})})),{dispatch:!1}),this.deleteTranscription$=H(()=>this.actions$.pipe(j(w.deleteTranscription),Bt(({id:t})=>this.recordingApiFacade.deletePatientTranscription(t).pipe(pt(()=>w.deleteTranscriptionSuccess({id:t}),()=>w.deleteTranscriptionError({error:"Cannot delete transcription"})))))),this.updateTranscription$=H(()=>this.actions$.pipe(j(w.updateTranscription),Yt(({transcription:t})=>this.recordingApiFacade.updateTranscription(t).pipe(pt(e=>w.updateTranscriptionSuccess({transcription:e}),()=>w.updateTranscriptionError({error:"Cannot update transcription"})))))),this.updateTranscriptionSuccess$=H(()=>this.actions$.pipe(j(w.updateTranscriptionSuccess),W(()=>{this.snackbarFacade.success({data:{content:"Updating your note with key points. Check Epic in a few moments..."}})})),{dispatch:!1}),this.updateTranscriptionError$=H(()=>this.actions$.pipe(j(w.updateTranscriptionError),W(({error:t})=>{this.snackbarFacade.error({data:{content:t}})})),{dispatch:!1})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=S({token:i,factory:i.\u0275fac});let n=i;return n})();var jl=()=>[cn(fe,Nn),mn(gi,_i,bi)];export{ot as a,dr as b,qn as c,Ft as d,_e as e,be as f,Ns as g,Ls as h,jl as i,sc as j,bc as k,Fc as l};
