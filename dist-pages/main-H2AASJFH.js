import{a as Ee,b as ve,c as ye}from"./chunk-5XUPTEYM.js";import{a as me}from"./chunk-3YLBV4VX.js";import{b as oe,f as ut,g as J,h as ae,i as ce,j as pe,k as lt,l as ue,m as le,r as he}from"./chunk-HKA473OH.js";import{$ as k,B as H,Bb as Jt,C as Pt,Cb as Yt,D as jt,Db as X,E as w,Ea as Gt,G as Ft,Gc as de,Hb as qt,Ma as K,Oc as fe,P as Lt,Q as _t,Qc as ge,R as Ut,Rb as pt,Sb as Qt,T as zt,Ta as Zt,Ub as te,V as D,Vb as ee,W as G,Wb as ne,X as $t,Y as Bt,Za as Kt,Zb as ie,a as R,aa as ot,ac as se,b as U,ba as N,bc as re,ca as v,da as x,e as it,ea as Vt,f as xt,fa as at,h as Ct,i as Dt,j as Rt,k as Mt,m as M,n as z,na as Wt,o as kt,p as I,qb as Xt,r as Nt,ra as Z,s as st,ta as Ht,u as rt,ua as ct,x as j,y as F,z as b}from"./chunk-ESE33L4O.js";var Ie=[{path:"",loadChildren:()=>import("./chunk-WSOKEQ6T.js").then(e=>e.featureShellRoutes)}];var B="Service workers are disabled or not supported by this browser";function nn(e){return st(()=>z(new Error(e)))}var L=class{constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=nn(B);else{let n=rt(t,"controllerchange").pipe(I(()=>t.controller)),s=st(()=>M(t.controller)),o=Nt(s,n);this.worker=o.pipe(b(h=>!!h)),this.registration=this.worker.pipe(D(()=>t.getRegistration()));let u=rt(t,"message").pipe(I(h=>h.data)).pipe(b(h=>h&&h.type)).pipe(Lt());u.connect(),this.events=u}}postMessage(t,i){return this.worker.pipe(w(1),$t(n=>{n.postMessage(R({action:t},i))})).toPromise().then(()=>{})}postMessageWithOperation(t,i,n){let s=this.waitForOperationCompleted(n),o=this.postMessage(t,i);return Promise.all([o,s]).then(([,p])=>p)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let i;return typeof t=="string"?i=n=>n.type===t:i=n=>t.includes(n.type),this.events.pipe(b(i))}nextEventOfType(t){return this.eventsOfType(t).pipe(w(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(b(i=>i.nonce===t),w(1),I(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},sn=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new xt,!n.isEnabled){this.messages=F,this.notificationClicks=F,this.subscription=F;return}this.messages=this.sw.eventsOfType("PUSH").pipe(I(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(I(o=>o.data)),this.pushManager=this.sw.registration.pipe(I(o=>o.pushManager));let s=this.pushManager.pipe(D(o=>o.getSubscription()));this.subscription=j(s,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(B));let s={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(o.length));for(let r=0;r<o.length;r++)p[r]=o.charCodeAt(r);return s.applicationServerKey=p,this.pushManager.pipe(D(r=>r.subscribe(s)),w(1)).toPromise().then(r=>(this.subscriptionChanges.next(r),r))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(B));let n=s=>{if(s===null)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(w(1),D(n)).toPromise()}decodeBase64(n){return atob(n)}};t.\u0275fac=function(s){return new(s||t)(v(L))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let e=t;return e})(),rn=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=F,this.unrecoverable=F;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(B));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(B));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};t.\u0275fac=function(s){return new(s||t)(v(L))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let e=t;return e})();var Se=new N("NGSW_REGISTER_SCRIPT");function on(e,t,i,n){return()=>{if(!(pt(n)&&"serviceWorker"in navigator&&i.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let s;if(typeof i.registrationStrategy=="function")s=i.registrationStrategy();else{let[p,...r]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(p){case"registerImmediately":s=M(null);break;case"registerWithDelay":s=be(+r[0]||0);break;case"registerWhenStable":s=r[0]?j(Oe(e),be(+r[0])):Oe(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}e.get(K).runOutsideAngular(()=>s.pipe(w(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:i.scope}).catch(p=>console.error("Service worker registration failed with:",p))))}}function be(e){return M(null).pipe(Ft(e))}function Oe(e){return e.get(Yt).isStable.pipe(b(i=>i))}function an(e,t){return new L(pt(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var $=class{};function Ae(e,t={}){return Z([sn,rn,{provide:Se,useValue:e},{provide:$,useValue:t},{provide:L,useFactory:an,deps:[$,ct]},{provide:Jt,useFactory:on,deps:[Ht,Se,$,ct],multi:!0}])}var we=(e,t)=>{let i=x(me);if(i.hasToken()){let n=i.getToken();return t(e.clone({headers:e.headers.set("Authorization",`${n}`)}))}return t(e)};var xe=(e,t)=>{let i=x(ve);return t(e).pipe(H(n=>n instanceof Qt&&n.status===401?(i.logout(),z(()=>n)):z(()=>n)))};var W="PERFORM_ACTION",cn="REFRESH",je="RESET",Fe="ROLLBACK",Le="COMMIT",_e="SWEEP",Ue="TOGGLE_ACTION",ze="SET_ACTIONS_ACTIVE",$e="JUMP_TO_STATE",Be="JUMP_TO_ACTION",Tt="IMPORT_STATE",Ve="LOCK_CHANGES",We="PAUSE_RECORDING",_=class{constructor(t,i){if(this.action=t,this.timestamp=i,this.type=W,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},ht=class{constructor(){this.type=cn}},dt=class{constructor(t){this.timestamp=t,this.type=je}},ft=class{constructor(t){this.timestamp=t,this.type=Fe}},gt=class{constructor(t){this.timestamp=t,this.type=Le}},mt=class{constructor(){this.type=_e}},Et=class{constructor(t){this.id=t,this.type=Ue}},Ce=class{constructor(t,i,n=!0){this.start=t,this.end=i,this.active=n,this.type=ze}},vt=class{constructor(t){this.index=t,this.type=$e}},yt=class{constructor(t){this.actionId=t,this.type=Be}},It=class{constructor(t){this.nextLiftedState=t,this.type=Tt}},St=class{constructor(t){this.status=t,this.type=Ve}},bt=class{constructor(t){this.status=t,this.type=We}},De=class{constructor(){this.maxAge=!1}},tt=new N("@ngrx/store-devtools Options"),Re=new N("@ngrx/store-devtools Initial Config");function He(){return null}var pn="NgRx Store DevTools";function un(e){let t={maxAge:!1,monitor:He,actionSanitizer:void 0,stateSanitizer:void 0,name:pn,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},i=typeof e=="function"?e():e,n=i.logOnly?{pause:!0,export:!0,test:!0}:!1,s=i.features||n||t.features;s.import===!0&&(s.import="custom");let o=Object.assign({},t,{features:s},i);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Me(e,t){return e.filter(i=>t.indexOf(i)<0)}function Ge(e){let{computedStates:t,currentStateIndex:i}=e;if(i>=t.length){let{state:s}=t[t.length-1];return s}let{state:n}=t[i];return n}function Kn(e){return e.actionsById[e.nextActionId-1]}function V(e){return new _(e,+Date.now())}function ln(e,t){return Object.keys(t).reduce((i,n)=>{let s=Number(n);return i[s]=Ze(e,t[s],s),i},{})}function Ze(e,t,i){return U(R({},t),{action:e(t.action,i)})}function hn(e,t){return t.map((i,n)=>({state:Ke(e,i.state,n),error:i.error}))}function Ke(e,t,i){return e(t,i)}function Xe(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function dn(e,t,i,n){let s=[],o={},p=[];return e.stagedActionIds.forEach((r,m)=>{let u=e.actionsById[r];u&&(m&&At(e.computedStates[m],u,t,i,n)||(o[r]=u,s.push(r),p.push(e.computedStates[m])))}),U(R({},e),{stagedActionIds:s,actionsById:o,computedStates:p})}function At(e,t,i,n,s){let o=i&&!i(e,t.action),p=n&&!t.action.type.match(n.map(m=>ke(m)).join("|")),r=s&&t.action.type.match(s.map(m=>ke(m)).join("|"));return o||p||r}function ke(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(e){return{ngZone:e?x(K):null,connectInZone:e}}var et=(()=>{let t=class t extends J{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Wt(t)))(o||t)}})(),t.\u0275prov=k({token:t,factory:t.\u0275fac});let e=t;return e})(),Y={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Ot=new N("@ngrx/store-devtools Redux Devtools Extension"),Ye=(()=>{let _DevtoolsExtension=class _DevtoolsExtension{constructor(e,t,i){this.config=t,this.dispatcher=i,this.zoneConfig=Je(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,t){if(this.devtoolsExtension)if(e.type===W){if(t.isLocked||t.isPaused)return;let i=Ge(t);if(Xe(this.config)&&At(i,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let n=this.config.stateSanitizer?Ke(this.config.stateSanitizer,i,t.currentStateIndex):i,s=this.config.actionSanitizer?Ze(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,n))}else{let i=U(R({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?ln(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?hn(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new it(e=>{let t=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=t,t.init(),t.subscribe(i=>e.next(i)),t.unsubscribe}):Rt}createActionStreams(){let e=this.createChangesObservable().pipe(Ut()),t=e.pipe(b(r=>r.type===Y.START)),i=e.pipe(b(r=>r.type===Y.STOP)),n=e.pipe(b(r=>r.type===Y.DISPATCH),I(r=>this.unwrapAction(r.payload)),Pt(r=>r.type===Tt?this.dispatcher.pipe(b(m=>m.type===lt),kt(1e3),jt(1e3),I(()=>r),H(()=>M(r)),w(1)):M(r))),o=e.pipe(b(r=>r.type===Y.ACTION),I(r=>this.unwrapAction(r.payload))).pipe(G(i)),p=n.pipe(G(i));this.start$=t.pipe(G(i)),this.actions$=this.start$.pipe(D(()=>o)),this.liftedActions$=this.start$.pipe(D(()=>p))}unwrapAction(action){return typeof action=="string"?eval(`(${action})`):action}getExtensionConfig(e){let t={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(t.maxAge=e.maxAge),t}sendToReduxDevtools(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}};_DevtoolsExtension.\u0275fac=function(t){return new(t||_DevtoolsExtension)(v(Ot),v(tt),v(et))},_DevtoolsExtension.\u0275prov=k({token:_DevtoolsExtension,factory:_DevtoolsExtension.\u0275fac});let DevtoolsExtension=_DevtoolsExtension;return DevtoolsExtension})(),Q={type:ut},fn="@ngrx/store-devtools/recompute",gn={type:fn};function qe(e,t,i,n,s){if(n)return{state:i,error:"Interrupted by an error up the chain"};let o=i,p;try{o=e(i,t)}catch(r){p=r.toString(),s.handleError(r)}return{state:o,error:p}}function q(e,t,i,n,s,o,p,r,m){if(t>=e.length&&e.length===o.length)return e;let u=e.slice(0,t),h=o.length-(m?1:0);for(let a=t;a<h;a++){let f=o[a],S=s[f].action,l=u[a-1],c=l?l.state:n,T=l?l.error:void 0,A=p.indexOf(f)>-1?l:qe(i,S,c,T,r);u.push(A)}return m&&u.push(e[e.length-1]),u}function mn(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:V(Q)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function En(e,t,i,n,s={}){return o=>(p,r)=>{let{monitorState:m,actionsById:u,nextActionId:h,stagedActionIds:a,skippedActionIds:f,committedState:S,currentStateIndex:l,computedStates:c,isLocked:T,isPaused:y}=p||t;p||(u=Object.create(u));function A(E){let g=E,C=a.slice(1,g+1);for(let O=0;O<C.length;O++)if(c[O+1].error){g=O,C=a.slice(1,g+1);break}else delete u[C[O]];f=f.filter(O=>C.indexOf(O)===-1),a=[0,...a.slice(g+1)],S=c[g].state,c=c.slice(g),l=l>g?l-g:0}function P(){u={0:V(Q)},h=1,a=[0],f=[],S=c[l].state,l=0,c=[]}let d=0;switch(r.type){case Ve:{T=r.status,d=1/0;break}case We:{y=r.status,y?(a=[...a,h],u[h]=new _({type:"@ngrx/devtools/pause"},+Date.now()),h++,d=a.length-1,c=c.concat(c[c.length-1]),l===a.length-2&&l++,d=1/0):P();break}case je:{u={0:V(Q)},h=1,a=[0],f=[],S=e,l=0,c=[];break}case Le:{P();break}case Fe:{u={0:V(Q)},h=1,a=[0],f=[],l=0,c=[];break}case Ue:{let{id:E}=r;f.indexOf(E)===-1?f=[E,...f]:f=f.filter(C=>C!==E),d=a.indexOf(E);break}case ze:{let{start:E,end:g,active:C}=r,O=[];for(let nt=E;nt<g;nt++)O.push(nt);C?f=Me(f,O):f=[...f,...O],d=a.indexOf(E);break}case $e:{l=r.index,d=1/0;break}case Be:{let E=a.indexOf(r.actionId);E!==-1&&(l=E),d=1/0;break}case _e:{a=Me(a,f),f=[],l=Math.min(l,a.length-1);break}case W:{if(T)return p||t;if(y||p&&At(p.computedStates[l],r,s.predicate,s.actionsSafelist,s.actionsBlocklist)){let g=c[c.length-1];c=[...c.slice(0,-1),qe(o,r.action,g.state,g.error,i)],d=1/0;break}s.maxAge&&a.length===s.maxAge&&A(1),l===a.length-1&&l++;let E=h++;u[E]=r,a=[...a,E],d=a.length-1;break}case Tt:{({monitorState:m,actionsById:u,nextActionId:h,stagedActionIds:a,skippedActionIds:f,committedState:S,currentStateIndex:l,computedStates:c,isLocked:T,isPaused:y}=r.nextLiftedState);break}case ut:{d=0,s.maxAge&&a.length>s.maxAge&&(c=q(c,d,o,S,u,a,f,i,y),A(a.length-s.maxAge),d=1/0);break}case lt:{if(c.filter(g=>g.error).length>0)d=0,s.maxAge&&a.length>s.maxAge&&(c=q(c,d,o,S,u,a,f,i,y),A(a.length-s.maxAge),d=1/0);else{if(!y&&!T){l===a.length-1&&l++;let g=h++;u[g]=new _(r,+Date.now()),a=[...a,g],d=a.length-1,c=q(c,d,o,S,u,a,f,i,y)}c=c.map(g=>U(R({},g),{state:o(g.state,gn)})),l=a.length-1,s.maxAge&&a.length>s.maxAge&&A(a.length-s.maxAge),d=1/0}break}default:{d=1/0;break}}return c=q(c,d,o,S,u,a,f,i,y),m=n(m,r),{monitorState:m,actionsById:u,nextActionId:h,stagedActionIds:a,skippedActionIds:f,committedState:S,currentStateIndex:l,computedStates:c,isLocked:T,isPaused:y}}}var Ne=(()=>{let t=class t{constructor(n,s,o,p,r,m,u,h){let a=mn(u,h.monitor),f=En(u,a,m,h.monitor,h),S=j(j(s.asObservable().pipe(zt(1)),p.actions$).pipe(I(V)),n,p.liftedActions$).pipe(Mt(Dt)),l=o.pipe(I(f)),c=Je(h.connectInZone),T=new Ct(1);this.liftedStateSubscription=S.pipe(Bt(l),Pe(c),_t(({state:P},[d,E])=>{let g=E(P,d);return d.type!==W&&Xe(h)&&(g=dn(g,h.predicate,h.actionsSafelist,h.actionsBlocklist)),p.notify(d,g),{state:g,action:d}},{state:a,action:null})).subscribe(({state:P,action:d})=>{if(T.next(P),d.type===W){let E=d.action;r.next(E)}}),this.extensionStartSubscription=p.start$.pipe(Pe(c)).subscribe(()=>{this.refresh()});let y=T.asObservable(),A=y.pipe(I(Ge));Object.defineProperty(A,"state",{value:oe(A,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=y,this.state=A}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new _(n,+Date.now()))}refresh(){this.dispatch(new ht)}reset(){this.dispatch(new dt(+Date.now()))}rollback(){this.dispatch(new ft(+Date.now()))}commit(){this.dispatch(new gt(+Date.now()))}sweep(){this.dispatch(new mt)}toggleAction(n){this.dispatch(new Et(n))}jumpToAction(n){this.dispatch(new yt(n))}jumpToState(n){this.dispatch(new vt(n))}importState(n){this.dispatch(new It(n))}lockChanges(n){this.dispatch(new St(n))}pauseRecording(n){this.dispatch(new bt(n))}};t.\u0275fac=function(s){return new(s||t)(v(et),v(J),v(ce),v(Ye),v(ue),v(Gt),v(ae),v(tt))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let e=t;return e})();function Pe({ngZone:e,connectInZone:t}){return i=>t?new it(n=>i.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())})):i}var vn=new N("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function yn(e,t){return!!e||t.monitor!==He}function In(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function wt(e={}){return Z([Ye,et,Ne,{provide:Re,useValue:e},{provide:vn,deps:[Ot,tt],useFactory:yn},{provide:Ot,useFactory:In},{provide:tt,deps:[Re],useFactory:un},{provide:le,deps:[Ne],useFactory:Sn},{provide:pe,useExisting:et}])}function Sn(e){return e.state}var Xn=(()=>{let t=class t{static instrument(n={}){return{ngModule:t,providers:[wt(n)]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=at({type:t}),t.\u0275inj=ot({});let e=t;return e})();var Qe=(e,t)=>[he(),de(),Ee(),te(ee([we,xe])),wt({logOnly:X()}),{provide:fe,useValue:e},{provide:ge,useValue:t}];var tn={providers:[se(Ie),Ae("ngsw-worker.js",{enabled:!X(),registrationStrategy:"registerWhenStable:30000"}),Qe("http://localhost:8080",localStorage)]};var en=(()=>{let t=class t{constructor(){this.hostClass="flex-all-available-space",this.appFacade=x(ye),this.document=x(qt),this.title="pieces-in-your-pocket"}ngOnInit(){this.appFacade.preventScrolling$.subscribe(n=>{n?this.document.body.classList.add("prevent-scroll"):this.document.body.classList.remove("prevent-scroll")})}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Vt({type:t,selectors:[["pieces-root"]],hostVars:2,hostBindings:function(s,o){s&2&&Zt(o.hostClass)},standalone:!0,features:[Xt],decls:1,vars:0,template:function(s,o){s&1&&Kt(0,"router-outlet")},dependencies:[re,ie],changeDetection:0});let e=t;return e})();ne(en,tn).catch(e=>console.error(e));
