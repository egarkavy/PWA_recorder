import{A as un,C as kt,D as fn,E as hn,F as wt,H as gn,I as _n,K as at,L as Cn,M as In,N as xn,O as kn,P as ct,Q as wn,T as En,V as An,W as k,Y as lt,a as xt,c as N,d as Ee,e as oe,n as Ae,o as x,p as an,q as cn,s as R,t as Te,u as ln,v as J,w as me,x as U,y as mn}from"./chunk-N5OPLCCF.js";import{a as dt,d as pt,e as ve}from"./chunk-BDQICLCY.js";import{$ as y,$a as Le,B as re,Bc as Sn,Cc as Et,Db as Jt,Dc as st,E as Pt,Ea as Qe,Eb as en,Ec as At,Fa as b,Fb as It,Fc as Tt,Ga as M,Hb as He,Hc as We,Ia as Ze,J as Nt,Ja as Ht,Jb as rt,K as jt,Kb as ot,La as we,Lb as tn,Ma as Je,Mb as nn,Na as Wt,Oa as et,Pa as le,Pc as mt,Qa as F,Qb as rn,R as zt,Ra as Ct,Sa as tt,Sc as be,Ta as nt,Tb as on,V as Be,Va as Z,W as Lt,Wa as Xt,X as Q,Xa as S,Xb as sn,Ya as I,Za as K,_a as ze,a as _,aa as Pe,b as E,ba as te,bb as ne,ca as X,d as Dt,da as f,db as Kt,ea as V,ec as dn,f as fe,fa as Ne,fb as q,ga as Ye,gb as Gt,hb as z,hc as pn,ia as Vt,ib as it,ja as H,jb as ge,ka as W,lb as P,m as Ce,mb as _e,n as Ot,nb as Ve,oa as $t,p as L,qb as $,sb as Yt,t as Bt,ta as je,tb as Qt,uc as bn,v as he,va as qt,vb as Zt,vc as vn,wa as xe,wb as $e,xa as Ut,xb as qe,yc as yn,z as Ie,za as ke,zb as Ue}from"./chunk-5ARDGOVG.js";var se=function(n){return n[n.Idle=1]="Idle",n[n.Playing=2]="Playing",n[n.Paused=3]="Paused",n}(se||{});var C=Ee({source:"Recording",events:{Start:oe(),Pause:oe(),Resume:oe(),Stop:oe(),Reset:oe(),SetTitle:N(),ResetState:oe(),SubmitRecording:N(),SubmitRecordingSuccess:oe(),SubmitRecordingError:oe()}});var Mt={patientId:10,state:se.Idle,title:"",dateStart:new Date().toISOString(),modelStatus:k.Init};var Tn=Te(Mt,R(C.start,n=>E(_({},n),{state:se.Playing})),R(C.stop,n=>E(_({},n),{state:se.Idle})),R(C.pause,n=>E(_({},n),{state:se.Paused})),R(C.resume,n=>E(_({},n),{state:se.Playing})),R(C.reset,n=>E(_({},n),{state:se.Idle,dateStart:new Date().toISOString()})),R(C.setTitle,(n,{title:i})=>E(_({},n),{title:i})),R(C.resetState,n=>_(_({},n),Mt)),R(C.submitRecording,n=>E(_({},n),{modelStatus:k.Pending})),R(C.submitRecordingSuccess,n=>E(_({},n),{modelStatus:k.Success})),R(C.submitRecordingError,n=>E(_({},n),{modelStatus:k.Error})));var ee=Ee({source:"PatientDetails",events:{RequestDetails:N(),RequestDetailsSuccess:N(),RequestDetailsError:N()}});var Mn={id:null,details:null,modelStatus:k.Init,error:null};var Rn=Te(Mn,R(ee.requestDetails,(n,{id:i})=>E(_({},n),{modelStatus:lt(n.modelStatus),id:i})),R(ee.requestDetailsSuccess,(n,{details:i})=>E(_({},n),{modelStatus:k.Success,details:i})),R(ee.requestDetailsError,n=>E(_({},n),{modelStatus:k.Error})));var O=Ee({source:"Transcriptions",events:{RequestTranscriptions:N(),RequestTranscriptionsSuccess:N(),RequestTranscriptionsError:N(),DeleteTranscription:N(),DeleteTranscriptionSuccess:N(),DeleteTranscriptionError:N(),SaveTranscription:N(),SaveTranscriptionSuccess:N(),SaveTranscriptionError:N()}});function vi(){return{ids:[],entities:{}}}function yi(){function n(i={}){return Object.assign(vi(),i)}return{getInitialState:n}}function Si(){function n(i){let p=o=>o.ids,e=o=>o.entities,t=x(p,e,(o,s)=>o.map(m=>s[m])),r=x(p,o=>o.length);return i?{selectIds:x(i,p),selectEntities:x(i,e),selectAll:x(i,t),selectTotal:x(i,r)}:{selectIds:p,selectEntities:e,selectAll:t,selectTotal:r}}return{getSelectors:n}}var u=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}(u||{});function A(n){return function(p,e){let t={ids:[...e.ids],entities:_({},e.entities)},r=n(p,t);return r===u.Both?Object.assign({},e,t):r===u.EntitiesOnly?E(_({},e),{entities:t.entities}):e}}function ae(n,i){let p=i(n);return Jt()&&p===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",i.toString()),p}function Fn(n){function i(g,c){let l=ae(g,n);return l in c.entities?u.None:(c.ids.push(l),c.entities[l]=g,u.Both)}function p(g,c){let l=!1;for(let a of g)l=i(a,c)!==u.None||l;return l?u.Both:u.None}function e(g,c){return c.ids=[],c.entities={},p(g,c),u.Both}function t(g,c){let l=ae(g,n);return l in c.entities?(c.entities[l]=g,u.EntitiesOnly):(c.ids.push(l),c.entities[l]=g,u.Both)}function r(g,c){let l=g.map(a=>t(a,c));switch(!0){case l.some(a=>a===u.Both):return u.Both;case l.some(a=>a===u.EntitiesOnly):return u.EntitiesOnly;default:return u.None}}function o(g,c){return s([g],c)}function s(g,c){let a=(g instanceof Array?g:c.ids.filter(d=>g(c.entities[d]))).filter(d=>d in c.entities).map(d=>delete c.entities[d]).length>0;return a&&(c.ids=c.ids.filter(d=>d in c.entities)),a?u.Both:u.None}function m(g){return Object.assign({},g,{ids:[],entities:{}})}function w(g,c,l){let a=l.entities[c.id],d=Object.assign({},a,c.changes),h=ae(d,n),v=h!==c.id;return v&&(g[c.id]=h,delete l.entities[c.id]),l.entities[h]=d,v}function T(g,c){return j([g],c)}function j(g,c){let l={};return g=g.filter(d=>d.id in c.entities),g.length>0?g.filter(h=>w(l,h,c)).length>0?(c.ids=c.ids.map(h=>l[h]||h),u.Both):u.EntitiesOnly:u.None}function G(g,c){let a=c.ids.reduce((d,h)=>{let v=g(c.entities[h]);return v!==c.entities[h]&&d.push({id:h,changes:v}),d},[]).filter(({id:d})=>d in c.entities);return j(a,c)}function de({map:g,id:c},l){let a=l.entities[c];if(!a)return u.None;let d=g(a);return T({id:c,changes:d},l)}function pe(g,c){return Se([g],c)}function Se(g,c){let l=[],a=[];for(let v of g){let D=ae(v,n);D in c.entities?a.push({id:D,changes:v}):l.push(v)}let d=j(a,c),h=p(l,c);switch(!0){case(h===u.None&&d===u.None):return u.None;case(h===u.Both||d===u.Both):return u.Both;default:return u.EntitiesOnly}}return{removeAll:m,addOne:A(i),addMany:A(p),setAll:A(e),setOne:A(t),setMany:A(r),updateOne:A(T),updateMany:A(j),upsertOne:A(pe),upsertMany:A(Se),removeOne:A(o),removeMany:A(s),map:A(G),mapOne:A(de)}}function Ci(n,i){let{removeOne:p,removeMany:e,removeAll:t}=Fn(n);function r(l,a){return o([l],a)}function o(l,a){let d=l.filter(h=>!(ae(h,n)in a.entities));return d.length===0?u.None:(c(d,a),u.Both)}function s(l,a){return a.entities={},a.ids=[],o(l,a),u.Both}function m(l,a){let d=ae(l,n);return d in a.entities?(a.ids=a.ids.filter(h=>h!==d),c([l],a),u.Both):r(l,a)}function w(l,a){let d=l.map(h=>m(h,a));switch(!0){case d.some(h=>h===u.Both):return u.Both;case d.some(h=>h===u.EntitiesOnly):return u.EntitiesOnly;default:return u.None}}function T(l,a){return G([l],a)}function j(l,a,d){if(!(a.id in d.entities))return!1;let h=d.entities[a.id],v=Object.assign({},h,a.changes),D=ae(v,n);return delete d.entities[a.id],l.push(v),D!==a.id}function G(l,a){let d=[],h=l.filter(v=>j(d,v,a)).length>0;if(d.length===0)return u.None;{let v=a.ids,D=[];return a.ids=a.ids.filter((Y,ue)=>Y in a.entities?!0:(D.push(ue),!1)),c(d,a),!h&&D.every(Y=>a.ids[Y]===v[Y])?u.EntitiesOnly:u.Both}}function de(l,a){let d=a.ids.reduce((h,v)=>{let D=l(a.entities[v]);return D!==a.entities[v]&&h.push({id:v,changes:D}),h},[]);return G(d,a)}function pe({map:l,id:a},d){let h=d.entities[a];if(!h)return u.None;let v=l(h);return T({id:a,changes:v},d)}function Se(l,a){return g([l],a)}function g(l,a){let d=[],h=[];for(let Y of l){let ue=ae(Y,n);ue in a.entities?h.push({id:ue,changes:Y}):d.push(Y)}let v=G(h,a),D=o(d,a);switch(!0){case(D===u.None&&v===u.None):return u.None;case(D===u.Both||v===u.Both):return u.Both;default:return u.EntitiesOnly}}function c(l,a){l.sort(i);let d=[],h=0,v=0;for(;h<l.length&&v<a.ids.length;){let D=l[h],Y=ae(D,n),ue=a.ids[v],bi=a.entities[ue];i(D,bi)<=0?(d.push(Y),h++):(d.push(ue),v++)}h<l.length?a.ids=d.concat(l.slice(h).map(n)):a.ids=d.concat(a.ids.slice(v)),l.forEach((D,Y)=>{a.entities[n(D)]=D})}return{removeOne:p,removeMany:e,removeAll:t,addOne:A(r),updateOne:A(T),upsertOne:A(Se),setAll:A(s),setOne:A(m),setMany:A(w),addMany:A(o),updateMany:A(G),upsertMany:A(g),map:A(de),mapOne:A(pe)}}function Dn(n={}){let{selectId:i,sortComparer:p}={selectId:n.selectId??(o=>o.id),sortComparer:n.sortComparer??!1},e=yi(),t=Si(),r=p?Ci(i,p):Fn(i);return _(_(_({selectId:i,sortComparer:p},e),t),r)}var Me=Dn(),On=Me.getInitialState({id:null,modelStatus:k.Init,error:null});var Bn=Te(On,R(O.requestTranscriptions,n=>E(_({},n),{modelStatus:lt(n.modelStatus)})),R(O.requestTranscriptionsSuccess,(n,{transcriptions:i})=>Me.setAll(i,E(_({},n),{modelStatus:k.Success}))),R(O.requestTranscriptionsError,(n,{error:i})=>E(_({},n),{modelStatus:k.Error,error:i})),R(O.deleteTranscription,(n,{id:i})=>Me.removeOne(i,E(_({},n),{modelStatus:k.Pending}))),R(O.deleteTranscriptionSuccess,n=>E(_({},n),{modelStatus:k.Success})),R(O.deleteTranscriptionError,(n,{error:i})=>E(_({},n),{modelStatus:k.Error,error:i})));var ut="patient-transcription",ie=function(n){return n.Recording="recording",n.PatientDetails="patientDetails",n.Transcriptions="transcriptions",n}(ie||{}),Pn={[ie.Recording]:Tn,[ie.PatientDetails]:Rn,[ie.Transcriptions]:Bn};var Re=an(ut);var Xe=x(Re,n=>n[ie.Recording]),Nn=x(Xe,n=>n.state),jn=x(Xe,n=>n.title),zn=x(Xe,n=>n.dateStart),Ln=x(Xe,n=>n.patientId),Rt=x(Xe,n=>n.modelStatus),Vn=x(Rt,n=>n===k.Pending);var $n=(()=>{let i=class i{constructor(){this.store=f(Ae),this.state$=this.store.select(Nn),this.title$=this.store.select(jn),this.dateStart$=this.store.select(zn),this.patientId$=this.store.select(Ln),this.modelStatus$=this.store.select(Rt),this.pending$=this.store.select(Vn)}start(){this.store.dispatch(C.start())}stop(){this.store.dispatch(C.stop())}pause(){this.store.dispatch(C.pause())}resume(){this.store.dispatch(C.resume())}reset(){this.store.dispatch(C.reset())}setTitle(e){this.store.dispatch(C.setTitle({title:e}))}submitRecording(e){this.store.dispatch(C.submitRecording({audio:e}))}resetState(){this.store.dispatch(C.resetState())}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ii=["*"],ft;function xi(){if(ft===void 0&&(ft=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(ft=n.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return ft}function Ke(n){return xi()?.createHTML(n)||n}function qn(n){return Error(`Unable to find icon with the name "${n}"`)}function ki(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Un(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Hn(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var ce=class{constructor(i,p,e){this.url=i,this.svgText=p,this.options=e}},wi=(()=>{let i=class i{constructor(e,t,r,o){this._httpClient=e,this._sanitizer=t,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,t,r){return this.addSvgIconInNamespace("",e,t,r)}addSvgIconLiteral(e,t,r){return this.addSvgIconLiteralInNamespace("",e,t,r)}addSvgIconInNamespace(e,t,r,o){return this._addSvgIconConfig(e,t,new ce(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,r,o){let s=this._sanitizer.sanitize(xe.HTML,r);if(!s)throw Hn(r);let m=Ke(s);return this._addSvgIconConfig(e,t,new ce("",m,o))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,r){return this._addSvgIconSetConfig(e,new ce(t,null,r))}addSvgIconSetLiteralInNamespace(e,t,r){let o=this._sanitizer.sanitize(xe.HTML,t);if(!o)throw Hn(t);let s=Ke(o);return this._addSvgIconSetConfig(e,new ce("",s,r))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(xe.RESOURCE_URL,e);if(!t)throw Un(e);let r=this._cachedIconsByUrl.get(t);return r?Ce(ht(r)):this._loadSvgIconFromConfig(new ce(e,null)).pipe(Q(o=>this._cachedIconsByUrl.set(t,o)),L(o=>ht(o)))}getNamedSvgIcon(e,t=""){let r=Wn(t,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(t,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(t);return s?this._getSvgFromIconSetConfigs(e,s):Ot(qn(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ce(ht(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(L(t=>ht(t)))}_getSvgFromIconSetConfigs(e,t){let r=this._extractIconWithNameFromAnySet(e,t);if(r)return Ce(r);let o=t.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(re(m=>{let T=`Loading icon set URL: ${this._sanitizer.sanitize(xe.RESOURCE_URL,s.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(T)),Ce(null)})));return Bt(o).pipe(L(()=>{let s=this._extractIconWithNameFromAnySet(e,t);if(!s)throw qn(e);return s}))}_extractIconWithNameFromAnySet(e,t){for(let r=t.length-1;r>=0;r--){let o=t[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(s,e,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Q(t=>e.svgText=t),L(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ce(null):this._fetchIcon(e).pipe(Q(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,r){let o=e.querySelector(`[id="${t}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let m=this._svgElementFromString(Ke("<svg></svg>"));return m.appendChild(s),this._setSvgAttributes(m,r)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let r=t.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let t=this._svgElementFromString(Ke("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:s,value:m}=r[o];s!=="id"&&t.setAttribute(s,m)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[o].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw ki();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let s=this._sanitizer.sanitize(xe.RESOURCE_URL,t);if(!s)throw Un(t);let m=this._inProgressUrlFetches.get(s);if(m)return m;let w=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(L(T=>Ke(T)),jt(()=>this._inProgressUrlFetches.delete(s)),zt());return this._inProgressUrlFetches.set(s,w),w}_addSvgIconConfig(e,t,r){return this._svgIconConfigs.set(Wn(e,t),r),this}_addSvgIconSetConfig(e,t){let r=this._iconSetConfigs.get(e);return r?r.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](t,e);if(o)return Ei(o)?new ce(o.url,null,o.options):new ce(o,null)}}};i.\u0275fac=function(t){return new(t||i)(X(on,8),X(sn),X(He,8),X(Qe))},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ht(n){return n.cloneNode(!0)}function Wn(n,i){return n+":"+i}function Ei(n){return!!(n.url&&n.options)}var Ai=new te("MAT_ICON_DEFAULT_OPTIONS"),Ti=new te("mat-icon-location",{providedIn:"root",factory:Mi});function Mi(){let n=f(He),i=n?n.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var Xn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ri=Xn.map(n=>`[${n}]`).join(", "),Fi=/^url\(['"]?#(.*?)['"]?\)$/,gt=(()=>{let i=class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}constructor(e,t,r,o,s,m){this._elementRef=e,this._iconRegistry=t,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Dt.EMPTY,m&&(m.color&&(this.color=this._defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let r=e.childNodes[t];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),t.forEach(r=>e.classList.add(r)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(Ri),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<t.length;o++)Xn.forEach(s=>{let m=t[o],w=m.getAttribute(s),T=w?w.match(Fi):null;if(T){let j=r.get(m);j||(j=[],r.set(m,j)),j.push({name:s,value:T[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,r]=this._splitIconName(e);t&&(this._svgNamespace=t),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,t).pipe(Pt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${t}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}};i.\u0275fac=function(t){return new(t||i)(M(ke),M(wi),$t("aria-hidden"),M(Ti),M(Qe),M(Ai,8))},i.\u0275cmp=V({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,r){t&2&&(le("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),nt(r.color?"mat-"+r.color:""),tt("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:["inline","inline",en],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[et,$],ngContentSelectors:Ii,decls:1,vars:0,template:function(t,r){t&1&&(it(),ge(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=i;return n})(),_t=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ne({type:i}),i.\u0275inj=Pe({imports:[We,We]});let n=i;return n})();var Fe=function(n){return n[n.Delete=1]="Delete",n[n.Discard=2]="Discard",n[n.Submit=3]="Submit",n}(Fe||{});var Di=new te("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Yn=(()=>{let i=class i{constructor(e,t,r,o,s){this._elementRef=e,this._ngZone=t,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new we,this._mode="determinate",this._transitionendHandler=m=>{this.animationEnd.observers.length===0||!m.target||!m.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=o==="NoopAnimations",s&&(s.color&&(this.color=this._defaultColor=s.color),this.mode=s.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=Gn(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Gn(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};i.\u0275fac=function(t){return new(t||i)(M(ke),M(Je),M(Ze),M(qt,8),M(Di,8))},i.\u0275cmp=V({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,r){t&2&&(le("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),nt("mat-"+r.color),tt("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:["value","value",It],bufferValue:["bufferValue","bufferValue",It],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[et,$],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,r){t&1&&(S(0,"div",0),K(1,"div",1)(2,"div",2),I(),S(3,"div",3),K(4,"span",4),I(),S(5,"div",5),K(6,"span",4),I()),t&2&&(b(),Ct("flex-basis",r._getBufferBarFlexBasis()),b(2),Ct("transform",r._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let n=i;return n})();function Gn(n,i=0,p=100){return Math.max(i,Math.min(p,n))}var Qn=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ne({type:i}),i.\u0275inj=Pe({imports:[We]});let n=i;return n})();function Pi(n,i){if(n&1){let p=ne();S(0,"button",6),q("click",function(){H(p);let t=z();return W(t.close())}),S(1,"mat-icon"),P(2,"close"),I()()}}function Ni(n,i){n&1&&K(0,"mat-progress-bar",7)}var ji=[[["","srModalTopContent",""]],[["","srModalMainContent",""]],[["","srModalBottomContent",""]],[["mat-dialog-actions"]]],zi=["[srModalTopContent]","[srModalMainContent]","[srModalBottomContent]","mat-dialog-actions"],Jn=(()=>{let i=class i{constructor(){this.header=null,this.contentClass=null,this.pending=!1,this.closable=!0,this.modalClose=new we,this.backdropClick=new we,this.esc=new we,this.dialogRef=f(at),this.destroyRef=f(Ht)}ngOnInit(){this.dialogRef.backdropClick().pipe(xt(this.destroyRef)).subscribe(()=>{this.backdropClick.emit()}),this.dialogRef.keydownEvents().pipe(Ie(e=>e.key==="Escape"),xt(this.destroyRef)).subscribe(()=>{this.esc.emit()})}close(){this.modalClose.emit()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=V({type:i,selectors:[["common-base-modal"]],inputs:{header:"header",contentClass:"contentClass",pending:"pending",closable:"closable"},outputs:{modalClose:"modalClose",backdropClick:"backdropClick",esc:"esc"},standalone:!0,features:[$],ngContentSelectors:zi,decls:12,vars:4,consts:[["mat-dialog-title","",1,"sr-modal-header"],[1,"flex","justify-between","items-center","w-full","gap-2"],["class","close","type","button","mat-icon-button","","aria-label","Close modal",3,"click",4,"ngIf"],[1,"progress-bar-wrapper"],["mode","indeterminate",4,"ngIf"],["cdkScrollable","",1,"flex","flex-col","grow","shrink",3,"ngClass"],["type","button","mat-icon-button","","aria-label","Close modal",1,"close",3,"click"],["mode","indeterminate"]],template:function(t,r){t&1&&(it(ji),S(0,"div",0)(1,"div",1)(2,"h4"),P(3),I(),Z(4,Pi,3,0,"button",2),I()(),S(5,"div",3),Z(6,Ni,1,0,"mat-progress-bar",4),I(),ge(7),S(8,"mat-dialog-content",5),ge(9,1),I(),ge(10,2),ge(11,3)),t&2&&(b(3),_e(r.header),b(),F("ngIf",r.closable),b(2),F("ngIf",r.pending),b(2),F("ngClass",r.contentClass))},dependencies:[_t,gt,ot,ct,In,xn,Qn,Yn,ve,pt,rt,un],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#f1ecf9}.sr-modal-header[_ngcontent-%COMP%]{display:flex;color:#000000de;padding:8px 24px;background-color:#f1ecf9}.sr-modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px}.sr-modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-right:-16px}.progress-bar-wrapper[_ngcontent-%COMP%]{position:relative;top:-1px;height:0}"],changeDetection:0});let n=i;return n})();function Li(n,i){if(n&1){let p=ne();ze(0),S(1,"button",4),q("click",function(){H(p);let t=z();return W(t.close())}),P(2,"Cancel"),I(),S(3,"button",5),q("click",function(){H(p);let t=z();return W(t.yes())}),P(4,"Delete"),I(),Le()}n&2&&(b(),F("color","primary"),b(2),F("color","warn"))}function Vi(n,i){if(n&1){let p=ne();ze(0),S(1,"button",4),q("click",function(){H(p);let t=z();return W(t.close())}),P(2),I(),S(3,"button",5),q("click",function(){H(p);let t=z();return W(t.yes())}),P(4),I(),Le()}if(n&2){let p=z();b(),F("color","primary"),b(),_e(p.noText),b(),F("color","primary"),b(),_e(p.yesText)}}function $i(n,i){if(n&1){let p=ne();ze(0),S(1,"button",4),q("click",function(){H(p);let t=z();return W(t.close())}),P(2,"No"),I(),S(3,"button",5),q("click",function(){H(p);let t=z();return W(t.yes())}),P(4,"Yes"),I(),Le()}n&2&&(b(),F("color","primary"),b(2),F("color","primary"))}var ei=(()=>{let i=class i{constructor(e,t){this.dialogRef=e,this.yesText="Yes",this.noText="No",this.yesNoContext=Fe,this.textOrHtml=t.textOrHtml??"",this.title=t.title||"Warning",this.context=t.context,this.yesText=t.yesText??this.yesText,this.noText=t.noText??this.noText}close(){this.dialogRef.close(!1)}yes(){this.dialogRef.close(!0)}};i.\u0275fac=function(t){return new(t||i)(M(at),M(Cn))},i.\u0275cmp=V({type:i,selectors:[["common-confirmation-modal"]],standalone:!0,features:[$],decls:8,vars:9,consts:[[3,"header","modalClose"],["srModalMainContent","",3,"innerHtml"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-button","","cdkFocusInitial","",3,"color","click"],["mat-button","",3,"color","click"]],template:function(t,r){t&1&&(S(0,"common-base-modal",0),q("modalClose",function(){return r.close()}),K(1,"div",1),Yt(2,"sanitize"),S(3,"mat-dialog-actions"),ze(4,2),Z(5,Li,5,2,"ng-container",3)(6,Vi,5,4,"ng-container",3)(7,$i,5,2,"ng-container",3),Le(),I()()),t&2&&(F("header",r.title),b(),F("innerHtml",Qt(2,7,r.textOrHtml),Ut),b(2),le("align","end"),b(),F("ngSwitch",r.context),b(),F("ngSwitchCase",r.yesNoContext.Delete),b(),F("ngSwitchCase",r.yesNoContext.Discard),b(),F("ngSwitchCase",r.yesNoContext.Submit))},dependencies:[Jn,ve,dt,ct,kn,nn,En,tn],changeDetection:0});let n=i;return n})();var Ts=(()=>{let i=class i{constructor(){this.modalService=f(wn)}confirm(e,t,r=Fe.Delete,o,s){return this.modalService.open(ei,{data:{title:e,textOrHtml:t,context:r,yesText:o,noText:s}}).afterClosed().pipe(L(m=>!!m))}whenConfirmed(e,t,r=Fe.Delete,o,s){return this.confirm(e,t,r,o,s).pipe(Ie(Boolean))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var qi=["canvas"],Fs=(()=>{let i=class i{constructor(){this.bgColor="#fff",this.curveColor="#000",this.stream=null,this.visualize=!1,this.lineWidth=2,this.gainerStandardValue=1.5}ngAfterViewInit(){this.adjustCanvasSize(),new ResizeObserver(()=>{this.adjustCanvasSize()}).observe(this.canvasEl.nativeElement.parentElement)}adjustCanvasSize(){this.canvasEl.nativeElement.width=Math.max(this.canvasEl.nativeElement.parentElement.getBoundingClientRect().width),this.canvasEl.nativeElement.height=Math.max(this.canvasEl.nativeElement.parentElement.getBoundingClientRect().height)}ngOnChanges(e){if(!this.visualize||!this.stream){this.mute();return}e.stream&&this.stream&&this.initializeAudioContextParts(this.stream),this.unmute(),this.animate()}getCanvasContext(){return this.canvasEl.nativeElement.getContext("2d")}getCanvasSize(){return{width:this.canvasEl.nativeElement.width,height:this.canvasEl.nativeElement.height}}initializeAudioContextParts(e){this.audioContext||(this.audioContext=new AudioContext);let t=this.audioContext.createMediaStreamSource(e);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=64,this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=this.gainerStandardValue,t.connect(this.gainNode).connect(this.analyser)}animate(){let e=this.getCanvasContext(),t=()=>{!this.analyser||!this.dataArray||(requestAnimationFrame(t),this.analyser.getByteFrequencyData(this.dataArray),e&&this.drawFrequencyFromBytes(this.dataArray,e))};t()}drawWaveformFromBytes(e,t){let{width:o,height:s}=this.getCanvasSize();t.fillStyle=this.bgColor,t.fillRect(0,0,o,s),t.lineWidth=2,t.strokeStyle=this.curveColor,t.beginPath();let m=o/e.length,w=0;for(let T=0;T<e.length;T++){let G=e[T]/128*s/2;T===0?t.moveTo(w,G):t.lineTo(w,G),w+=m}t.lineTo(o,s/2),t.stroke()}drawFrequencyFromBytes(e,t){let{width:r,height:o}=this.getCanvasSize();t.clearRect(0,0,r,o),t.beginPath(),t.fillStyle=this.curveColor;let s=4,m=o/2,w=r/2,T=r/2/e.length-s,j=o/100*1,G=10,de=s/2;for(let pe=0;pe<e.length;pe++){let Se=e[pe],g=this.scaleValue(Se,0,255,0,o/2-G),c=Math.max(j,g);this.drawAvailableRect(t,w+de,m-c,T,c*2,6),this.drawAvailableRect(t,w-de,m-c,-T,c*2,6),de+=T+s}t.fill()}clearCanvas(){this.getCanvasContext()?.clearRect(0,0,this.canvasEl.nativeElement.width,this.canvasEl.nativeElement.height)}flattenCurve(){this.clearCanvas();let{width:e,height:t}=this.getCanvasSize(),r=0,o=t/2,s=this.getCanvasContext();s&&(s.beginPath(),s.moveTo(r,o),s.lineTo(e,o),s.stroke())}mute(){this.gainNode&&(this.gainNode.gain.value=0)}unmute(){this.gainNode&&(this.gainNode.gain.value=this.gainerStandardValue)}drawAvailableRect(e,t,r,o,s,m){(e.roundRect||e.fillRect).bind(e)(t,r,o,s,m)}scaleValue(e,t,r,o,s){return(e-t)/(r-t)*(s-o)+o}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=V({type:i,selectors:[["common-audio-stream-visualizer"]],viewQuery:function(t,r){if(t&1&&qe(qi,7),t&2){let o;$e(o=Ue())&&(r.canvasEl=o.first)}},inputs:{bgColor:"bgColor",curveColor:"curveColor",stream:"stream",visualize:"visualize",lineWidth:"lineWidth"},standalone:!0,features:[Vt,$],decls:2,vars:0,consts:[["width","0","height","0"],["canvas",""]],template:function(t,r){t&1&&K(0,"canvas",0,1)},dependencies:[rn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}canvas[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0});let n=i;return n})();function Ui(n,i){if(n&1){let p=ne();S(0,"div",1)(1,"button",2),q("click",function(){H(p);let t=z();return W(t.action())}),P(2),I()()}if(n&2){let p=z();b(2),Ve(" ",p.data.action," ")}}var Hi=["label"];function Wi(n,i){}var Xi=Math.pow(2,31)-1,ye=class{constructor(i,p){this._overlayRef=p,this._afterDismissed=new fe,this._afterOpened=new fe,this._onAction=new fe,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Xi))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},bt=new te("MatSnackBarData"),De=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Ki=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ye({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=i;return n})(),Gi=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ye({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=i;return n})(),Yi=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ye({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=i;return n})(),Qi=(()=>{let i=class i{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};i.\u0275fac=function(t){return new(t||i)(M(ye),M(bt))},i.\u0275cmp=V({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[$],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,r){t&1&&(S(0,"div",0),P(1),I(),Z(2,Ui,3,1,"div",1)),t&2&&(b(),Ve(" ",r.data.message,`
`),b(),Xt(2,r.hasAction?2:-1))},dependencies:[dt,Ki,Gi,Yi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=i;return n})(),Zi={snackBarState:Sn("state",[At("void, hidden",st({transform:"scale(0.8)",opacity:0})),At("visible",st({transform:"scale(1)",opacity:1})),Tt("* => visible",Et("150ms cubic-bezier(0, 0, 0.2, 1)")),Tt("* => void, * => hidden",Et("75ms cubic-bezier(0.4, 0.0, 1, 1)",st({opacity:0})))])},Ji=0,er=(()=>{let i=class i extends hn{constructor(e,t,r,o,s){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=f(He),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new fe,this._onExit=new fe,this._onEnter=new fe,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Ji++}`,this.attachDomPortal=m=>{this._assertNotAttached();let w=this._portalOutlet.attachDomPortal(m);return this._afterPortalAttached(),w},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}onAnimationEnd(e){let{fromState:t,toState:r}=e;if((r==="void"&&t!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(s=>e.classList.add(s)):e.classList.add(t)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<t.length;r++){let o=t[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let r=t.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};i.\u0275fac=function(t){return new(t||i)(M(Je),M(ke),M(Ze),M(pn),M(De))},i.\u0275cmp=V({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,r){if(t&1&&(qe(wt,7),qe(Hi,7)),t&2){let o;$e(o=Ue())&&(r._portalOutlet=o.first),$e(o=Ue())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,r){t&1&&Gt("@state.done",function(s){return r.onAnimationEnd(s)}),t&2&&Kt("@state",r._animationState)},standalone:!0,features:[Wt,$],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1,2)(3,"div",3),Z(4,Wi,0,0,"ng-template",4),I(),K(5,"div"),I()()),t&2&&(b(5),le("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[wt],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Zi.snackBarState]}});let n=i;return n})();function tr(){return new De}var nr=new te("mat-snack-bar-default-options",{providedIn:"root",factory:tr}),ti=(()=>{let i=class i{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,t,r,o,s,m){this._overlay=e,this._live=t,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Qi,this.snackBarContainerComponent=er,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",r){let o=_(_({},this._defaultConfig),r);return o.data={message:e,action:t},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=je.create({parent:r||this._injector,providers:[{provide:De,useValue:t}]}),s=new kt(this.snackBarContainerComponent,t.viewContainerRef,o),m=e.attach(s);return m.instance.snackBarConfig=t,m.instance}_attach(e,t){let r=_(_(_({},new De),this._defaultConfig),t),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),m=new ye(s,o);if(e instanceof Zt){let w=new fn(e,null,{$implicit:r.data,snackBarRef:m});m.instance=s.attachTemplatePortal(w)}else{let w=this._createInjector(r,m),T=new kt(e,void 0,w),j=s.attachComponentPortal(T);m.instance=j.instance}return this._breakpointObserver.observe(vn.HandsetPortrait).pipe(Lt(o.detachments())).subscribe(w=>{o.overlayElement.classList.toggle(this.handsetCssClass,w.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(m,r),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){let t=new gn;t.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,m=!s&&e.horizontalPosition!=="center";return s?r.left("0"):m?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),t.positionStrategy=r,this._overlay.create(t)}_createInjector(e,t){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return je.create({parent:r||this._injector,providers:[{provide:ye,useValue:t},{provide:bt,useValue:e.data}]})}};i.\u0275fac=function(t){return new(t||i)(X(_n),X(yn),X(je),X(bn),X(i,12),X(nr))},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ir(n,i){if(n&1&&(S(0,"mat-icon",4),P(1),I()),n&2){let p=z();b(),Ve(" ",p.icon," ")}}function rr(n,i){if(n&1){let p=ne();S(0,"button",5),q("click",function(){H(p);let t=z();return W(t.dismiss())}),S(1,"mat-icon"),P(2,"close"),I()()}}var ni=(()=>{let i=class i{constructor(){this.snackBarRef=f(ye),this.data=f(bt),this.icon=this.data?.icon??null,this.content=this.data?.content??null,this.closeable=this.data?.closeable??!0,this.contentClass=this.data?.contentClass??[]}dismiss(){this.snackBarRef.dismiss()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=V({type:i,selectors:[["common-simple-snack-bar"]],standalone:!0,features:[$],decls:5,vars:4,consts:[[1,"flex","items-center",3,"ngClass"],["class","me-2",4,"ngIf"],[1,"flex","grow","shrink"],["class","ms-2","type","button","mat-icon-button","","aria-label","Dismiss",3,"click",4,"ngIf"],[1,"me-2"],["type","button","mat-icon-button","","aria-label","Dismiss",1,"ms-2",3,"click"]],template:function(t,r){t&1&&(S(0,"div",0),Z(1,ir,2,1,"mat-icon",1),S(2,"div",2),P(3),I(),Z(4,rr,3,0,"button",3),I()),t&2&&(F("ngClass",r.contentClass),b(),F("ngIf",r.icon),b(2),_e(r.content),b(),F("ngIf",r.closeable))},dependencies:[_t,gt,ve,pt,ot,rt],changeDetection:0});let n=i;return n})();var Ge={Info:"info",Error:"error",Warning:"warning",Success:"success"};var ii=new te("SIMPLE_SNACK_BAR_CONFIG");var ri={duration:5e3,horizontalPosition:"center"};var Oe=(()=>{let i=class i{constructor(){this.snackBar=f(ti),this.baseConfig=f(ii,{optional:!0})??ri}open(e){return this.snackBar.openFromComponent(ni,this.mergeConfigs(this.baseConfig,e))}info(e){return this.open(this.addPanelClassToConfig([Ge.Info],this.mergeConfigs(this.baseConfig,e)))}error(e){return this.open(this.addPanelClassToConfig([Ge.Error],this.mergeConfigs(this.baseConfig,e)))}warning(e){return this.open(this.addPanelClassToConfig([Ge.Warning],this.mergeConfigs(this.baseConfig,e)))}success(e){return this.open(this.addPanelClassToConfig([Ge.Success],this.mergeConfigs(this.baseConfig,e)))}addPanelClassToConfig(e,t){return t?E(_({},t),{panelClass:Array.from(new Set([...dn(t?.panelClass??[]),...e]))}):{panelClass:e}}mergeConfigs(e,t){return t?_(_({},e),t):e}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Za=(()=>{let i=class i{constructor(){this.actions$=f(me),this.reset$=this.actions$.pipe(U(C.reset)),this.submitRecordingSuccess$=this.actions$.pipe(U(C.submitRecordingSuccess))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var oi=x(Re,n=>n[ie.PatientDetails]),si=x(oi,n=>n.details),vt=x(oi,n=>n.modelStatus),ai=x(vt,n=>n===k.Pending),ci=x(vt,n=>n===k.Init);var mc=(()=>{let i=class i{constructor(){this.store=f(Ae),this.details$=this.store.select(si),this.modelStatus$=this.store.select(vt),this.pending$=this.store.select(ai),this.isInit$=this.store.select(ci)}requestDetails(e){this.store.dispatch(ee.requestDetails({id:e}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ft=x(Re,n=>n[ie.Transcriptions]),{selectAll:li,selectEntities:or}=Me.getSelectors(Ft),yt=x(Ft,n=>n.modelStatus),mi=x(yt,n=>n===k.Pending),di=x(yt,n=>n===k.Init),sr=x(Ft,n=>n.id),_c=x(or,sr,(n,i)=>i?n[i]??null:null);var xc=(()=>{let i=class i{constructor(){this.store=f(Ae),this.transcriptions$=this.store.select(li),this.modelStatus$=this.store.select(yt),this.pending$=this.store.select(mi),this.isInit$=this.store.select(di)}requestTranscriptions(e){this.store.dispatch(O.requestTranscriptions({id:e}))}deleteTranscription(e){this.store.dispatch(O.deleteTranscription({id:e}))}saveTranscription(e){this.store.dispatch(O.saveTranscription({id:e}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ar=()=>{let n=new Date;return Array.from({length:20}).map((i,p)=>({createdOn:new Date(n.setDate(p+1)).toISOString(),estimatedMinutes:2,id:p.toString(),noteText:"This is what has been transcribed. This is what has been transcribed. This is what has been transcribed. This is what has been transcribed. This is what has been transcribed.",status:p%5===0?"PROGRESS":"COMPLETE",title:"Set by a doctor"+p}))},pi=(()=>{let i=class i{constructor(){this.apiService=f(mt)}submitRecording(e,t,r){let o=new FormData;return o.append("file",e,"audio.wav"),o.append("title",r||"blah"),this.apiService.post("/transcription/upload",o)}getPatientTranscriptions(e){return this.apiService.get(`/patient/${e}/transcriptions`).pipe(re(()=>he(300).pipe(L(()=>ar()))))}deletePatientTranscription(e){return this.apiService.delete(`/transcription/${e}`).pipe(re(()=>he(300).pipe(L(()=>{}))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var St=(()=>{let i=class i{constructor(){this.apiService=f(pi)}submitRecording(e,t,r){return this.apiService.submitRecording(e,t,r).pipe(re(()=>he(1e3).pipe(L(()=>{}))))}getPatientTranscriptions(e){return this.apiService.getPatientTranscriptions(e)}deletePatientTranscription(e){return this.apiService.deletePatientTranscription(e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ui=(()=>{let i=class i{constructor(){this.apiService=f(mt)}getPatientDetails(e){return this.apiService.get(`/patient/${e}`).pipe(re(()=>he(200).pipe(L(()=>({bed:"4",dob:"1999/10/03",fullName:"John Doe",gender:An.Female,id:"222333",room:"214b"})))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var fi=(()=>{let i=class i{constructor(){this.apiService=f(ui)}getPatientDetails(e){return this.apiService.getPatientDetails(e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var hi=(()=>{let i=class i{constructor(){this.actions$=f(me),this.recordingFacadeApi=f(St),this.recordingFacade=f($n),this.snackbarApiFacade=f(Oe),this.submitRecording$=J(()=>this.actions$.pipe(U(C.submitRecording),ln(()=>[this.recordingFacade.patientId$,this.recordingFacade.title$]),Ie(([,e])=>e!==null),Nt(([{audio:e},t,r])=>this.recordingFacadeApi.submitRecording(e,t,r).pipe(be(()=>C.submitRecordingSuccess(),()=>C.submitRecordingError()))))),this.submitRecordingSuccess$=J(()=>this.actions$.pipe(U(C.submitRecordingSuccess),Q(()=>{this.snackbarApiFacade.info({data:{content:"Transcription processing started"}})})),{dispatch:!1}),this.submitRecordingError$=J(()=>this.actions$.pipe(U(C.submitRecordingError),Q(()=>{this.snackbarApiFacade.error({data:{content:"Something went wrong. Please try to transcribe again"}})})),{dispatch:!1})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac});let n=i;return n})();var gi=(()=>{let i=class i{constructor(){this.actions$=f(me),this.patientApiFacade=f(fi),this.snackbarFacade=f(Oe),this.requestDetails$=J(()=>this.actions$.pipe(U(ee.requestDetails),Be(({id:e})=>this.patientApiFacade.getPatientDetails(e).pipe(be(t=>ee.requestDetailsSuccess({details:t}),()=>ee.requestDetailsError({error:"Cannot obtain patient info"})))))),this.requestDetailsError$=J(()=>this.actions$.pipe(U(ee.requestDetailsError),Q(({error:e})=>{this.snackbarFacade.error({data:{content:e}})})),{dispatch:!1})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac});let n=i;return n})();var _i=(()=>{let i=class i{constructor(){this.actions$=f(me),this.recordingApiFacade=f(St),this.snackbarFacade=f(Oe),this.requestTranscriptions$=J(()=>this.actions$.pipe(U(O.requestTranscriptions),Be(({id:e})=>this.recordingApiFacade.getPatientTranscriptions(e).pipe(be(t=>O.requestTranscriptionsSuccess({transcriptions:t}),()=>O.requestTranscriptionsError({error:"Cannot obtain patient info"})))))),this.requestTranscriptionsError$=J(()=>this.actions$.pipe(U(O.requestTranscriptionsError),Q(({error:e})=>{this.snackbarFacade.error({data:{content:e}})})),{dispatch:!1}),this.deleteTranscription$=J(()=>this.actions$.pipe(U(O.deleteTranscription),Be(({id:e})=>this.recordingApiFacade.deletePatientTranscription(e).pipe(be(()=>O.deleteTranscriptionSuccess({id:e}),()=>O.deleteTranscriptionError({error:"Cannot delete transcription"}))))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y({token:i,factory:i.\u0275fac});let n=i;return n})();var Tl=()=>[cn(ut,Pn),mn(hi,gi,_i)];export{se as a,$n as b,Fe as c,gt as d,_t as e,Ts as f,Fs as g,Tl as h,Za as i,mc as j,xc as k};
